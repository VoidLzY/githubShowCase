window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AdaptCanvas:[function(t,e,o){"use strict";cc._RF.push(e,"2174f+PKGlGH7csvm0koWVs","AdaptCanvas");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=cc._decorator,l=s.ccclass,u=(s.property,s.menu),p=s.disallowMultiple;cc.view.setResizeCallback(function(){c.default.emit(a.EventName.RESIZE)});var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){var t=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;cc.winSize.width/cc.winSize.height>t?(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0)},r([c.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([l,c.eventsOnLoad(),p,u("Framework/UI\u7ec4\u4ef6/AdaptCanvas")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AdaptSize:[function(t,e,o){"use strict";cc._RF.push(e,"6c391dfrNBD95q+Uj9I1ejA","AdaptSize");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=cc._decorator,l=s.ccclass,u=(s.property,s.menu),p=s.executeInEditMode,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.adapt()},e.prototype.adapt=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height},r([c.preloadEvent(a.EventName.RESIZE)],e.prototype,"adapt",null),r([l,c.eventsOnLoad(),p,u("Framework/UI\u7ec4\u4ef6/AdaptSize")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events"}],AnimValueLabel:[function(t,e,o){"use strict";cc._RF.push(e,"93188RmKh1GHJhJYMxNsu+u","AnimValueLabel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AnimValue"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu),u=c.requireComponent,p=c.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.getComponent(cc.Label)),this._label},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.label.string=""+Math.round(this.curValue)},r([s,p,u(cc.Label),l("Framework/UI\u7ec4\u4ef6/AnimValueLabel")],e)}(a.default);o.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValueProgressHP:[function(t,e,o){"use strict";cc._RF.push(e,"c3afeSdbzBJDJZejppXH98u","AnimValueProgressHP");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AnimValueProgress"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.requireComponent,h=c.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barShadow=null,e}return i(e,t),e.prototype.setBarShadow=function(t){switch(this.progressBar.mode){case cc.ProgressBar.Mode.HORIZONTAL:this.barShadow.node.width=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.VERTICAL:this.barShadow.node.height=this.progressBar.totalLength*t;break;case cc.ProgressBar.Mode.FILLED:this.barShadow.fillRange=t}},e.prototype.onAnimStart=function(){this.isAdd||(this.progressBar.progress=this.endValue)},e.prototype.onAnimUpdate=function(){this.isAdd?(this.setBarShadow(this.curValue),this.progressBar.progress=this.curValue):this.setBarShadow(this.curValue)},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"barShadow",void 0),r([s,h,p(cc.ProgressBar),u("Framework/UI\u7ec4\u4ef6/AnimValueProgressHP")],e)}(a.default);o.default=f,cc._RF.pop()},{"./AnimValueProgress":"AnimValueProgress"}],AnimValueProgress:[function(t,e,o){"use strict";cc._RF.push(e,"7f95cXxJPhAJaQaqRBZkHaC","AnimValueProgress");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AnimValue"),c=cc._decorator,s=c.ccclass,l=(c.property,c.menu),u=c.requireComponent,p=c.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._progressBar=null,e}return i(e,t),Object.defineProperty(e.prototype,"progressBar",{get:function(){return this._progressBar||(this._progressBar=this.getComponent(cc.ProgressBar)),this._progressBar},enumerable:!1,configurable:!0}),e.prototype.onAnimUpdate=function(){this.progressBar.progress=this.curValue},r([s,p,u(cc.ProgressBar),l("Framework/UI\u7ec4\u4ef6/AnimValueProgress")],e)}(a.default);o.default=h,cc._RF.pop()},{"./AnimValue":"AnimValue"}],AnimValue:[function(t,e,o){"use strict";cc._RF.push(e,"cfe49J1R7JHxIqVge927Yqj","AnimValue");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,l,u=t("../../util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=p.menu,y=p.executeInEditMode;(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.IN=1]="IN",t[t.OUT=2]="OUT",t[t.IN_OUT=3]="IN_OUT"}(l||(l={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._endValue=0,e._curValue=0,e.animType=s.SPEED,e.speed=1,e.duration=1,e.easingType=l.NONE,e.timeScale=!1,e._tween=null,e._isAdd=!1,e}return i(e,t),Object.defineProperty(e.prototype,"initValue",{get:function(){return this._endValue},set:function(t){this._curValue=t,this._endValue=t,this.setValueImmediately(this._endValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdd",{get:function(){return this._isAdd},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endValue",{get:function(){return this._endValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curValue",{get:function(){return this._curValue},enumerable:!1,configurable:!0}),e.prototype.onAnimStart=function(){},e.prototype.onAnimUpdate=function(){},e.prototype.onAnimComplete=function(){this._animResolve&&(this._animResolve(),this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},e.prototype.setValueImmediately=function(t){this._isAdd=this._endValue-this._curValue>0,this._endValue=t,this._curValue=t,this.onAnimStart(),this.onAnimUpdate(),this.onAnimComplete()},e.prototype.setValue=function(t,e){return void 0===e&&(e=!0),a(this,void 0,Promise,function(){var o=this;return c(this,function(){return e?[2,new Promise(function(e){var n;o._animResolve=e,o._endValue=t,o._isAdd=o._endValue-o._curValue>0,null===(n=o._tween)||void 0===n||n.stop(),o._tween=o.timeScale?new u.Tween(o,u.SCALE_TWEEN):new u.Tween(o);var i=o.animType===s.DURATION?o.duration:Math.abs(o._endValue-o._curValue)/o.speed;switch(o.easingType){case l.IN:o._tween.easing(u.Easing.Quadratic.In);break;case l.OUT:o._tween.easing(u.Easing.Quadratic.Out);break;case l.IN_OUT:o._tween.easing(u.Easing.Quadratic.InOut)}o._tween.to({_curValue:o._endValue},1e3*i).onStart(function(){o.onAnimStart()}).onUpdate(function(){o.onAnimUpdate()}).onComplete(function(){o.onAnimComplete()}).start()})]:(this.setValueImmediately(t),[2])})})},e.prototype.stop=function(){this._animResolve&&(this._animResolve=null),this._tween&&(this._tween.stop(),this._tween=null)},r([f],e.prototype,"_endValue",void 0),r([f],e.prototype,"_curValue",void 0),r([f({tooltip:!1})],e.prototype,"initValue",null),r([f({type:cc.Enum(s),tooltip:!1})],e.prototype,"animType",void 0),r([f({tooltip:!1,visible:function(){return this.animType===s.SPEED}})],e.prototype,"speed",void 0),r([f({tooltip:!1,visible:function(){return this.animType===s.DURATION}})],e.prototype,"duration",void 0),r([f({type:cc.Enum(l),tooltip:!1})],e.prototype,"easingType",void 0),r([f({tooltip:!1})],e.prototype,"timeScale",void 0),r([h,y,d("Framework/UI\u7ec4\u4ef6/AnimValue")],e)}(cc.Component);o.default=_,cc._RF.pop()},{"../../util/Tween":"Tween"}],AnimatorAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"ddcbcHQdPFOfY+mAxuSRJ7E","AnimatorAnimation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,l=(c.property,c.requireComponent),u=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._animation=null,e._animState=null,e._wrapModeMap=new Map,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&(this._animState=this._animation.play(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=e?cc.WrapMode.Loop:this._wrapModeMap.get(this._animState)))},e.prototype.scaleTime=function(t){this._animState&&(this._animState.speed=t)},r([s,u,l(cc.Animation),p("Framework/Animator/AnimatorAnimation")],e)}(a.default);o.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorBase:[function(t,e,o){"use strict";cc._RF.push(e,"33dabcEWT5IlqYLTD/ozvjl","AnimatorBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AnimatorController"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.executionOrder,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.assetRawUrl=null,e.playOnStart=!0,e.autoUpdate=!0,e._hasInit=!1,e._ac=null,e._stateLogicMap=null,e._onStateChangeCall=null,e._animationPlayer=null,e._extraMulti=1,e}return i(e,t),Object.defineProperty(e.prototype,"extraMulti",{get:function(){return this._extraMulti},set:function(t){this._extraMulti!==t&&(this._extraMulti=t,this.updatePlaySpeed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateName",{get:function(){return this._ac.curState.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateMotion",{get:function(){return this._ac.curState.motion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animComplete",{get:function(){return this._ac.animComplete},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.initArgs=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];e.forEach(function(e){e&&("function"==typeof e?t._onStateChangeCall=e:"object"==typeof e&&(e instanceof Map?t._stateLogicMap=e:(t._animationPlayer=e,t._animationPlayer.setFinishedCallback(t.onAnimFinished,t))))})},e.prototype.updatePlaySpeed=function(){var t=this._ac.curState.speed*this.extraMulti;this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t)},e.prototype.updateAnimator=function(){if(this.updatePlaySpeed(),this._stateLogicMap){var t=this._stateLogicMap.get(this._ac.curState.name);t&&t.onUpdate()}this._ac.updateAnimator()},e.prototype.update=function(){this._hasInit&&this.autoUpdate&&this.updateAnimator()},e.prototype.manualUpdate=function(){this._hasInit&&!this.autoUpdate&&this.updateAnimator()},e.prototype.initJson=function(t){this._ac=new a.default(this,t),this._ac.changeState(t.defaultState)},e.prototype.onAnimFinished=function(){this._ac.onAnimationComplete()},e.prototype.playAnimation=function(){},e.prototype.scaleTime=function(){},e.prototype.onStateChange=function(t,e){this.playAnimation(e.motion,e.loop);var o=t?t.name:"";if(this._stateLogicMap){var n=this._stateLogicMap.get(o);n&&n.onExit();var i=this._stateLogicMap.get(e.name);i&&i.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(o,e.name)},e.prototype.setBool=function(t,e){this._ac.params.setBool(t,e)},e.prototype.getBool=function(t){return 0!==this._ac.params.getBool(t)},e.prototype.setNumber=function(t,e){this._ac.params.setNumber(t,e)},e.prototype.getNumber=function(t){return this._ac.params.getNumber(t)},e.prototype.setTrigger=function(t){this._ac.params.setTrigger(t)},e.prototype.resetTrigger=function(t){this._ac.params.resetTrigger(t)},e.prototype.autoTrigger=function(t){this._ac.params.autoTrigger(t)},e.prototype.play=function(t){this._hasInit&&this._ac.play(t)},r([l({type:cc.JsonAsset,tooltip:!1})],e.prototype,"assetRawUrl",void 0),r([l({tooltip:!1})],e.prototype,"playOnStart",void 0),r([l({tooltip:!1})],e.prototype,"autoUpdate",void 0),r([s,u(-1e3)],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./AnimatorController":"AnimatorController"}],AnimatorCondition:[function(t,e,o){"use strict";var n,i;cc._RF.push(e,"dee7b/HNztHyqFZucFEjW8S","AnimatorCondition"),Object.defineProperty(o,"__esModule",{value:!0}),o.LogicType=o.ParamType=void 0,function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(n=o.ParamType||(o.ParamType={})),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(i=o.LogicType||(o.LogicType={}));var r=function(){function t(t,e){this._ac=null,this._param="",this._value=0,this._logic=i.EQUAL,this._ac=e,this._param=t.param,this._value=t.value,this._logic=t.logic}return t.prototype.getParamName=function(){return this._param},t.prototype.getParamType=function(){return this._ac.params.getParamType(this._param)},t.prototype.check=function(){var t=this.getParamType();if(t===n.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==n.NUMBER)return t===n.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===n.TRIGGER?0!==this._ac.params.getTrigger(this._param):(cc.error("[AnimatorCondition.check] \u9519\u8bef\u7684type: "+t),!1);var e=this._ac.params.getNumber(this._param);switch(this._logic){case i.EQUAL:return e===this._value;case i.NOTEQUAL:return e!==this._value;case i.GREATER:return e>this._value;case i.LESS:return e<this._value;case i.GREATER_EQUAL:return e>=this._value;case i.LESS_EQUAL:return e<=this._value;default:return!1}},t}();o.default=r,cc._RF.pop()},{}],AnimatorController:[function(t,e,o){"use strict";cc._RF.push(e,"de785Aa4lpFH59CMCV1Eb74","AnimatorController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimatorParams"),i=t("./AnimatorState"),r=function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new n.default(e.parameters),this.init(e)}return Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.states.length<=0)cc.error("[AnimatorController.init] \u72b6\u6001\u673ajson\u9519\u8bef");else{this._anyState=new i.default(t.anyState,this);for(var e=0;e<t.states.length;e++){var o=new i.default(t.states[e],this);this._states.set(o.name,o)}}},t.prototype.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},t.prototype.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},t.prototype.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},t.prototype.play=function(t){if(this._states.has(t)){this.animComplete=!1;var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t.prototype.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)cc.error("[AnimatorController.changeState] error: \u72b6\u6001\u5207\u6362\u9012\u5f52\u8c03\u7528\u8d85\u8fc71000\u6b21\uff0ctransition\u8bbe\u7f6e\u53ef\u80fd\u51fa\u9519!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)cc.error("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t}();o.default=r,cc._RF.pop()},{"./AnimatorParams":"AnimatorParams","./AnimatorState":"AnimatorState"}],AnimatorCustomization:[function(t,e,o){"use strict";cc._RF.push(e,"32e01QIrwtP4buKMSAxTJmr","AnimatorCustomization");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,l=c.property,u=(c.requireComponent,c.disallowMultiple),p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playOnStart=!1,e}return i(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,e)},e.prototype.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},r([l({override:!0,visible:!1})],e.prototype,"playOnStart",void 0),r([s,u,p("Framework/Animator/AnimatorCustomization")],e)}(a.default);o.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorDragonBones:[function(t,e,o){"use strict";cc._RF.push(e,"0592f2y1olA0bK1DdnYDaoE","AnimatorDragonBones");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,l=(c.property,c.requireComponent),u=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dragonBones=null,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&this._dragonBones.playAnimation(t,e?0:-1)},e.prototype.scaleTime=function(t){this._dragonBones.timeScale=t},r([s,u,l(dragonBones.ArmatureDisplay),p("Framework/Animator/AnimatorDragonBones")],e)}(a.default);o.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorParams:[function(t,e,o){"use strict";cc._RF.push(e,"47250iiE8tKUZF6tjFUlfMo","AnimatorParams"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimatorCondition"),i=function(){function t(t){var e=this;this._paramMap=new Map,t.forEach(function(t){var o={type:t.type,value:t.init};e._paramMap.set(t.param,o)})}return t.prototype.getParamType=function(t){var e=this._paramMap.get(t);return e?e.type:null},t.prototype.setNumber=function(t,e){var o=this._paramMap.get(t);o&&o.type===n.ParamType.NUMBER&&(o.value=e)},t.prototype.setBool=function(t,e){var o=this._paramMap.get(t);o&&o.type===n.ParamType.BOOLEAN&&(o.value=e?1:0)},t.prototype.setTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===n.ParamType.TRIGGER&&(e.value=1)},t.prototype.resetTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===n.ParamType.TRIGGER&&(e.value=0)},t.prototype.autoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===n.ParamType.AUTO_TRIGGER&&(e.value=1)},t.prototype.resetAutoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===n.ParamType.AUTO_TRIGGER&&(e.value=0)},t.prototype.resetAllAutoTrigger=function(){this._paramMap.forEach(function(t){t.type===n.ParamType.AUTO_TRIGGER&&(t.value=0)})},t.prototype.getNumber=function(t){var e=this._paramMap.get(t);return e&&e.type===n.ParamType.NUMBER?e.value:0},t.prototype.getBool=function(t){var e=this._paramMap.get(t);return e&&e.type===n.ParamType.BOOLEAN?e.value:0},t.prototype.getTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===n.ParamType.TRIGGER?e.value:0},t.prototype.getAutoTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===n.ParamType.AUTO_TRIGGER?e.value:0},t}();o.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AnimatorSpineSecondary:[function(t,e,o){"use strict";cc._RF.push(e,"2488934/SlBPY9ngsu8UqWo","AnimatorSpineSecondary");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AnimatorSpine"),c=t("./core/AnimatorBase"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.requireComponent,h=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackIndex=1,e._main=null,e._spine=null,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(a.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(this.trackIndex,t,e):this._spine.clearTrack(this.trackIndex)},r([u({tooltip:!1})],e.prototype,"trackIndex",void 0),r([l,p(sp.Skeleton),h("Framework/Animator/AnimatorSpineSecondary")],e)}(c.default);o.default=f,cc._RF.pop()},{"./AnimatorSpine":"AnimatorSpine","./core/AnimatorBase":"AnimatorBase"}],AnimatorSpine:[function(t,e,o){"use strict";cc._RF.push(e,"8f224eiAodM8YIcjrZ0B9zN","AnimatorSpine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./core/AnimatorBase"),c=cc._decorator,s=c.ccclass,l=(c.property,c.requireComponent),u=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}return i(e,t),e.prototype.start=function(){this.playOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.playOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.assetRawUrl&&this.initJson(this.assetRawUrl.json))},e.prototype.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach(function(e,o){e?o.call(e,t):o(t)}),this._secondaryListenerMap.forEach(function(e,o){t.trackIndex===e.trackIndex&&o.call(e,t)})},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(0,t,e):this._spine.clearTrack(0)},e.prototype.scaleTime=function(t){this._spine.timeScale=t},e.prototype.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},e.prototype.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},e.prototype.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},e.prototype.clearCompleteListener=function(){this._completeListenerMap.clear},r([s,u,l(sp.Skeleton),p("Framework/Animator/AnimatorSpine")],e)}(a.default);o.default=h,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorStateLogic:[function(t,e,o){"use strict";cc._RF.push(e,"67f80RtpchPbbZr6OYBU8NI","AnimatorStateLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.onEntry=function(){},t.prototype.onUpdate=function(){},t.prototype.onExit=function(){},t}();o.default=n,cc._RF.pop()},{}],AnimatorState:[function(t,e,o){"use strict";cc._RF.push(e,"c1d25xIgn5M3ZaxWIV1n5ii","AnimatorState"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimatorTransition"),i=function(){function t(t,e){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=e;for(var o=0;o<t.transitions.length;o++){var i=new n.default(t.transitions[o],e);i.isValid()&&this._transitions.push(i)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motion",{get:function(){return this._motion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},enumerable:!1,configurable:!0}),t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var e=this._transitions[t];if(e&&e.check())return void e.doTrans()}},t}();o.default=i,cc._RF.pop()},{"./AnimatorTransition":"AnimatorTransition"}],AnimatorTransition:[function(t,e,o){"use strict";cc._RF.push(e,"34b08BDtkZDiLlsqDHQh7XT","AnimatorTransition"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./AnimatorCondition"),i=function(){function t(t,e){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=e;for(var o=0;o<t.conditions.length;o++){var i=new n.default(t.conditions[o],e);this._conditions.push(i)}}return t.prototype.isValid=function(){return this._hasExitTime||this._conditions.length>0},t.prototype.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},t.prototype.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var e=this._conditions[t].getParamType(),o=this._conditions[t].getParamName();e===n.ParamType.TRIGGER?this._ac.params.resetTrigger(o):e===n.ParamType.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(o)}this._ac.changeState(this._toStateName)},t}();o.default=i,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"ed9cbEOGDVGSIJOKhzlTwEi","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.SfxType=void 0;var n,i=t("./Tween");(function(t){t[t.NORMAL=0]="NORMAL",t[t.UI=1]="UI"})(n=o.SfxType||(o.SfxType={}));var r=function(){function t(){}return Object.defineProperty(t,"bgmVolume",{get:function(){return this._bgmVolume},set:function(t){var e=this;this._bgmVolume!==t&&(this._bgmVolume=cc.misc.clampf(t,0,1),this._bgmMap.forEach(function(t){cc.audioEngine.setVolume(t.id,e._bgmVolume*t.volume)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxVolume",{get:function(){return this._sfxVolume},set:function(t){var e=this;this._sfxVolume!==t&&(this._sfxVolume=cc.misc.clampf(t,0,1),this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){cc.audioEngine.setVolume(t.id,e._sfxVolume*t.volume)})}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmOff",{get:function(){return this._bgmOff},set:function(t){var e=this;this._bgmOff!==t&&(this._bgmOff=t,this._bgmOff&&(this._bgmMap.forEach(function(t){e.stop(t)}),this._bgmMap.clear()))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxOff",{get:function(){return this._sfxOff},set:function(t){var e=this;this._sfxOff!==t&&(this._sfxOff=t,this._sfxOff&&(this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){e.stop(t)}),t.audioList.length=0})))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"bgmPause",{get:function(){return this._bgmPause},set:function(t){var e=this;this.bgmOff||this._bgmPause===t||(this._bgmPause=t,this._bgmMap.forEach(function(t){var o,n;e._bgmPause?(null===(o=t.tween)||void 0===o||o.pause(),cc.audioEngine.pause(t.id)):(null===(n=t.tween)||void 0===n||n.resume(),cc.audioEngine.resume(t.id))}))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sfxPause",{get:function(){return this._sfxPause},set:function(t){this.sfxOff||this._sfxPause===t||(this._sfxPause=t,this._sfxPause?this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.pause(),cc.audioEngine.pause(t.id)})}):this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.resume(),cc.audioEngine.resume(t.id)})}))},enumerable:!1,configurable:!0}),t.volumeFade=function(t,e,o,n,r){var a,c=this;null===(a=t.tween)||void 0===a||a.stop(),t.volume=o,cc.audioEngine.setVolume(t.id,t.volume*this.bgmVolume),t.tween=new i.Tween(t).to({volume:n},1e3*e).onUpdate(function(){cc.audioEngine.setVolume(t.id,t.volume*c.bgmVolume)}).onComplete(function(){t.tween=null,r&&r()}).start()},t.stop=function(t){t.tween&&(t.tween.stop(),t.tween=null),cc.audioEngine.stop(t.id)},t.play=function(t,e,o){void 0===o&&(o=null);var n=t instanceof cc.AudioClip?{clip:t}:t;return n.hasOwnProperty("loop")||(n.loop=!1),n.hasOwnProperty("fadeDuration")||(n.fadeDuration=0),n.hasOwnProperty("finishCall")||(n.finishCall=null),o?(o.id=cc.audioEngine.play(n.clip,n.loop,e),o.volume=1,o.tween&&(o.tween.stop(),o.tween=null)):o={id:cc.audioEngine.play(n.clip,n.loop,e),volume:1,tween:null},n.finishCall&&cc.audioEngine.setFinishCallback(o.id,n.finishCall),n.fadeDuration>0&&this.volumeFade(o,n.fadeDuration,0,1),o},t.playBgm=function(t){var e=t instanceof cc.AudioClip?t:t.clip;if(!this.bgmOff&&e){var o=this._bgmMap.get(e);void 0===o?(o=this.play(t,this.bgmVolume),this._bgmMap.set(e,o)):(this.stop(o),this.play(t,this.bgmVolume,o))}},t.playSfx=function(t,e){void 0===e&&(e=n.NORMAL);var o=t instanceof cc.AudioClip?t:t.clip;if(!this.sfxOff&&o){var i=e===n.NORMAL?this._normalSfxMap.get(o):this._uiSfxMap.get(o),r=null;if(void 0===i)i=this.setSfxData(o,e),r=this.play(t,this.sfxVolume),i.audioList.push(r);else{for(;i.audioList.length>0&&cc.audioEngine.getState(i.audioList[0].id)!==cc.audioEngine.AudioState.PLAYING;)this.stop(i.audioList.shift());for(;i.overStop&&i.audioList.length>=i.maxNum;)this.stop(i.audioList.shift());i.audioList.length<i.maxNum&&(r=this.play(t,this.sfxVolume),i.audioList.push(r))}}},t.setSfxData=function(t,e,o,i){if(void 0===e&&(e=n.NORMAL),void 0===o&&(o=8),void 0===i&&(i=!1),t){o=Math.max(o,1);var r=e===n.NORMAL?this._normalSfxMap:this._uiSfxMap,a=r.get(t);return void 0===a?(a={audioList:[],maxNum:o,overStop:i},r.set(t,a)):(a.maxNum=o,a.overStop=i),a}},t.stopBgm=function(t,e){var o=this;if(void 0===t&&(t=null),void 0===e&&(e=0),!this.bgmOff)if(t){var n=this._bgmMap.get(t);if(void 0===n)return;e<=0?(this.stop(n),this._bgmMap.delete(t)):this.volumeFade(n,e,1,0,function(){o.stop(n),o._bgmMap.delete(t)})}else e<=0?(this._bgmMap.forEach(function(t){o.stop(t)}),this._bgmMap.clear()):this._bgmMap.forEach(function(t,n){o.volumeFade(t,e,1,0,function(){o.stop(t),o._bgmMap.delete(n)})})},t.stopSfx=function(t,e){var o=this;if(void 0===t&&(t=null),void 0===e&&(e=n.NORMAL),!this.sfxOff)if(t){var i=e===n.NORMAL?this._normalSfxMap.get(t):this._uiSfxMap.get(t);if(void 0===i||i.audioList.length<=0)return;i.audioList.forEach(function(t){o.stop(t)}),i.audioList.length=0}else this._normalSfxMap.forEach(function(t){t.audioList.forEach(function(t){o.stop(t)}),t.audioList.length=0}),this._uiSfxMap.forEach(function(t){t.audioList.forEach(function(t){o.stop(t)}),t.audioList.length=0})},t.stopAll=function(){this.stopBgm(),this.stopSfx()},t.pauseAll=function(){this.bgmPause=!0,this.sfxPause=!0},t.resumeAll=function(){this.bgmPause=!1,this.sfxPause=!1},t.uncacheAll=function(){this.stopAll(),this._bgmMap.clear(),this._normalSfxMap.clear(),this._uiSfxMap.clear(),cc.audioEngine.uncacheAll()},t._bgmMap=new Map,t._normalSfxMap=new Map,t._uiSfxMap=new Map,t._bgmVolume=1,t._sfxVolume=1,t._bgmOff=!1,t._sfxOff=!1,t._bgmPause=!1,t._sfxPause=!1,t}();o.default=r,cc._RF.pop()},{"./Tween":"Tween"}],BlueWaveCtl:[function(t,e,o){"use strict";cc._RF.push(e,"375dadRbOtOKK/ZLAwWP0N1","BlueWaveCtl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mtl=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){this.mtl=this.node.getComponent(cc.Sprite).getMaterials()[0]},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ButtonChildGray:[function(t,e,o){"use strict";cc._RF.push(e,"19687AwHRhAjoLcsGZTr1YH","ButtonChildGray");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),c=t("../../util/Tool"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.menu,h=s.requireComponent,f=s.executeInEditMode,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.relatedNodes=[],e.normalMaterial=null,e.grayMaterial=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=this;if(t===a.ButtonState.DISABLED){this.grayMaterial||(this.grayMaterial=cc.Material.getBuiltinMaterial("2d-gray-sprite"));var o=function(t){var o=t.getComponent(cc.RenderComponent);o&&(o instanceof cc.Sprite||o instanceof cc.Label)&&o.setMaterial(0,e.grayMaterial)};c.default.nodeRecursive(this.node.children,o),c.default.nodeRecursive(this.relatedNodes,o)}else this.normalMaterial||(this.normalMaterial=cc.Material.getBuiltinMaterial("2d-sprite")),o=function(t){var o=t.getComponent(cc.RenderComponent);o&&(o instanceof cc.Sprite||o instanceof cc.Label)&&o.setMaterial(0,e.normalMaterial)},c.default.nodeRecursive(this.node.children,o),c.default.nodeRecursive(this.relatedNodes,o)},r([u({type:cc.Node,tooltip:!1})],e.prototype,"relatedNodes",void 0),r([u(cc.Material)],e.prototype,"normalMaterial",void 0),r([u(cc.Material)],e.prototype,"grayMaterial",void 0),r([l,f,h(cc.Button),p("Framework/UI\u7ec4\u4ef6/ButtonChildGray")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack","../../util/Tool":"Tool"}],ButtonChildPos:[function(t,e,o){"use strict";cc._RF.push(e,"1c34dZFfsxBlZKPpElUos3w","ButtonChildPos");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../hack/ButtonHack"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=cc.v2(0,0),e.pressed=cc.v2(0,0),e.hover=cc.v2(0,0),e.disabled=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){this.node.on(a.ButtonHackEvent.STATE_CHANGE,this.onStateChange,this)},e.prototype.onStateChange=function(t){var e=cc.v2(0,0);switch(t){case a.ButtonState.NORMAL:e=this.normal;break;case a.ButtonState.PRESSED:e=this.pressed;break;case a.ButtonState.HOVER:e=this.hover;break;case a.ButtonState.DISABLED:e=this.disabled}this.node.children.forEach(function(t){t.setPosition(e)})},r([l({tooltip:!1})],e.prototype,"normal",void 0),r([l({tooltip:!1})],e.prototype,"pressed",void 0),r([l({tooltip:!1})],e.prototype,"hover",void 0),r([l({tooltip:!1})],e.prototype,"disabled",void 0),r([s,p(cc.Button),u("Framework/UI\u7ec4\u4ef6/ButtonChildPos")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../hack/ButtonHack":"ButtonHack"}],ButtonHack:[function(t,e,o){"use strict";var n;cc._RF.push(e,"2aaa36JkjVLWItbzIIr6kKk","ButtonHack"),Object.defineProperty(o,"__esModule",{value:!0}),o.ButtonState=o.ButtonHackEvent=void 0,function(t){t.STATE_CHANGE="ButtonHackEvent-STATE_CHANGE"}(n=o.ButtonHackEvent||(o.ButtonHackEvent={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.HOVER=1]="HOVER",t[t.PRESSED=2]="PRESSED",t[t.DISABLED=3]="DISABLED"}(o.ButtonState||(o.ButtonState={})),cc.Button.prototype._applyTransition=function(t){var e=this.transition;e===cc.Button.Transition.COLOR?this._updateColorTransition(t):e===cc.Button.Transition.SPRITE?this._updateSpriteTransition(t):e===cc.Button.Transition.SCALE&&this._updateScaleTransition(t),this.node.emit(n.STATE_CHANGE,t)},cc._RF.pop()},{}],ButtonSingle:[function(t,e,o){"use strict";cc._RF.push(e,"0dd4fIEsu5H8YHrLixEwxNu","ButtonSingle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.requireComponent;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.GROUP1=1]="GROUP1",t[t.GROUP2=2]="GROUP2"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=a.DEFAULT,e._button=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"groupMap",{get:function(){return null===this._groupMap&&(this._groupMap=new Map),this._groupMap},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._button=this.getComponent(cc.Button);var t=o.groupMap.get(this.buttonGroup);void 0===t&&(t={lock:!1,buttonSet:new Set},o.groupMap.set(this.buttonGroup,t)),t.buttonSet.add(this._button),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onDestroy=function(){var t=o.groupMap.get(this.buttonGroup);void 0!==t?(t.buttonSet.delete(this._button),this.unlock(t)):cc.error("[ButtonSingle.onDestroy] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.onTouchStart=function(){var t=this,e=o.groupMap.get(this.buttonGroup);void 0!==e?e.lock||(e.lock=!0,e.buttonSet.forEach(function(e){e.enabled=e===t._button})):cc.error("[ButtonSingle.onTouchStart] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.onTouchEnd=function(){var t=o.groupMap.get(this.buttonGroup);void 0!==t?this.unlock(t):cc.error("[ButtonSingle.onTouchEnd] \u6570\u636e\u5f02\u5e38 ButtonGroup: "+this.buttonGroup)},e.prototype.unlock=function(t){t.lock&&this._button.enabled&&(t.lock=!1,t.buttonSet.forEach(function(t){t.enabled=!0}))},e._groupMap=null,r([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"buttonGroup",void 0),o=r([s,p(cc.Button),u("Framework/UI\u7ec4\u4ef6/ButtonSingle")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CircleList:[function(t,e,o){"use strict";cc._RF.push(e,"47957NchK9M3pnXr5DdUH/B","CircleList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=t("../../util/Res"),s=cc._decorator,l=s.ccclass,u=s.property,p=s.requireComponent,h=s.disallowMultiple,f=s.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=a.PREFAB,e.templatePrefab=null,e.templateNode=null,e._firstDirty=!1,e._refreshDirty=!1,e._curIdx=0,e._midIdx=2,e._dataLen=0,e._refreshCall=null,e._target=null,e._pageView=null,e}return i(e,t),Object.defineProperty(e.prototype,"pageView",{get:function(){return this._pageView||(this._pageView=this.getComponent(cc.PageView)),this._pageView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.pageView.content.parent},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.node.on("scroll-ended",this.onScrollEnd,this)},e.prototype.lateUpdate=function(){0!==this.pageView.getPages().length&&(this._firstDirty&&(this._firstDirty=!1,this.pageView.setContentPosition(cc.v2(-this.view.width/2-this._midIdx*this.view.width,0)),this.pageView.setCurrentPageIndex(this._midIdx)),this._refreshDirty&&(this._refreshDirty=!1,this.refresh()))},e.prototype.onInit=function(t,e,o,n){if(this._dataLen=t,this._curIdx=cc.misc.clampf(e,0,this._dataLen-1),this._refreshCall=o,this._target=n,this._firstDirty=!0,this._refreshDirty=!0,0===this.pageView.getPages().length){for(var i=this.templateType===a.PREFAB?this.templatePrefab:this.templateNode,r=0;r<5;r++){var s=c.default.instantiate(i,this.node);s.active=!0,s.setPosition(0,0),this.pageView.addPage(s)}this.pageView.content.getComponent(cc.Layout).updateLayout()}},e.prototype.resetData=function(t,e){void 0===e&&(e=null),this._dataLen=t,this._curIdx=cc.misc.clampf(null===e?this._curIdx:e,0,this._dataLen-1),this._refreshDirty=!0},e.prototype.setCurIdx=function(t){this._curIdx=t,this._refreshDirty=!0},e.prototype.onScrollEnd=function(){var t=this.pageView.getCurrentPageIndex();if(t!==this._midIdx){for(this.pageView.setContentPosition(cc.v2(-this.view.width/2-this._midIdx*this.view.width,0)),this.pageView.setCurrentPageIndex(this._midIdx),this._curIdx+=t-this._midIdx;this._curIdx<0;)this._curIdx+=this._dataLen;for(;this._curIdx>this._dataLen-1;)this._curIdx-=this._dataLen;this._refreshDirty=!0}},e.prototype.refresh=function(){var t=this;this.pageView.content.children.forEach(function(e,o){for(var n=t._curIdx-(t._midIdx-o);n<0;)n+=t._dataLen;for(;n>t._dataLen-1;)n-=t._dataLen;t._refreshCall&&t._refreshCall.call(t._target,e,n,n===t._curIdx)})},e.ITEM_REFRESH="circleList-itemRefresh",r([u({type:cc.Enum(a),tooltip:!1})],e.prototype,"templateType",void 0),r([u({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===a.PREFAB}})],e.prototype,"templatePrefab",void 0),r([u({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===a.NODE}})],e.prototype,"templateNode",void 0),r([l,h,p(cc.PageView),f("Framework/UI\u7ec4\u4ef6/CircleList")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],ComicPre:[function(t,e,o){"use strict";cc._RF.push(e,"72b37LhODdOS4yddE10xFHC","ComicPre");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp=null,e}return i(e,t),e.prototype.init=function(){},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Configures:[function(t,e,o){"use strict";cc._RF.push(e,"96fc5TlSXNE6JQMbiCj4gtD","Configures"),Object.defineProperty(o,"__esModule",{value:!0}),o.Configures=void 0;var n=t("./EnumName");(function(t){t.version="1.0.1",t.UI_Init=[{url:"base/uiBase",type:cc.Prefab},{url:"base/loading",type:cc.Prefab},{url:"base/transition",type:cc.Prefab}],t.test_data="",t.data_path="data/game_data",t.isTest=!0,t.gm_switch=!1,t.comicGuide=!0,t.bundle_list=["plist","voice"],t.transition_list=["Main"],t.sdk_env=n.Sdk_Platform.DEBUG,t.zoom_scale=1,t.DOUBLE_CLICK_OFFTIME=400,t.SPINE_MIX_TIME=.1})(o.Configures||(o.Configures={})),cc._RF.pop()},{"./EnumName":"EnumName"}],DataCtr:[function(t,e,o){"use strict";cc._RF.push(e,"7d5d0JUmLpEBYh9E783UYul","DataCtr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.DataCtr=void 0;var s=t("../const/Configures"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.init=function(){return a(this,void 0,void 0,function(){var t,e=this;return c(this,function(o){switch(o.label){case 0:return""==s.Configures.test_data?[3,2]:[4,new Promise(function(t,o){cc.assetManager.loadRemote(s.Configures.test_data,cc.JsonAsset,function(n,i){n?o(n):(e.sortJson(i),t(null))})})];case 1:return o.sent(),[3,4];case 2:return[4,new Promise(function(t){cc.resources.load(s.Configures.data_path,cc.JsonAsset,function(e,o){e?(cc.error("[Res.load] error: "+e),t(null)):t(o)})})];case 3:t=o.sent(),this.sortJson(t),o.label=4;case 4:return[2]}})})},e.sortJson=function(t){if(t){for(var e in t.json)this._dict[e]=t.json[e];this._name_dict={}}},e.getTable=function(t){if(this._dict[t])return this._dict[t];var e=null;for(var o in this._name_dict)if(o==t){e=this._name_dict[o];break}return e?this._dict[e]:null},e.getData=function(t,e){var o=this.getTable(t);if(o){for(var n=0;n<o.length;n++)if(o[n].id==e)return o[n];return console.error("\u6ca1\u6709\u6570\u636e"+t+",\u6570\u636eid:"+e),null}return console.error("\u6ca1\u6709\u5bf9\u5e94\u8868"+t),null},e.getDataByIndex=function(t,e){var o=this.getTable(t);return o?o[e]?o[e]:(console.error("\u6ca1\u6709\u6570\u636e"+t+",\u6570\u636eindex:"+e),null):(console.error("\u6ca1\u6709\u5bf9\u5e94\u8868"+t),null)},e.getDataByArgs=function(t,e){var o=this.getTable(t);if(o){for(var n=0;n<o.length;n++){var i=!0;for(var r in e)o[n][r]!=e[r]&&(i=!1);if(i)return o[n]}return null}return console.error("\u6ca1\u6709\u5bf9\u5e94\u8868"+t),null},e.getDataListByArgs=function(t,e){var o=this.getTable(t);if(o){for(var n=[],i=0;i<o.length;i++){var r=!0;for(var a in e)o[i][a]!=e[a]&&(r=!1);r&&n.push(o[i])}return n.length?n:null}return console.error("\u6ca1\u6709\u5bf9\u5e94\u8868"+t),null},e._dict={},e._name_dict={},r([u],e)}(cc.Component));o.DataCtr=p,cc._RF.pop()},{"../const/Configures":"Configures"}],Decorator:[function(t,e,o){"use strict";cc._RF.push(e,"194e1Q1HWRNm4uMrCVIQinW","Decorator");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./Tool"),a=function(){function t(){}return t.queue=function(t,e,o){var r=o.value,a=new Map,c=function(){return n(this,void 0,Promise,function(){var t,e,o,n,s,l,u;return i(this,function(i){switch(i.label){case 0:if(void 0===(t=a.get(this)))return cc.error("[Decorator.queue] error: queue is undefined"),[2];if(0===t.length)return a.delete(this),[2];e=t[0],o=e[0],n=e[1],s=e[2],i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,r.apply(this,s)];case 2:return l=i.sent(),o(l),[3,5];case 3:return u=i.sent(),n(u),[3,5];case 4:return t.shift(),c.apply(this),[7];case 5:return[2]}})})};o.value=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return new Promise(function(o,n){var i=a.get(t);void 0===i&&(i=[],a.set(t,i)),i.push([o,n,e]),1===i.length&&c.apply(t)})}},t.lock=function(t){return void 0===t&&(t=0),function(e,o,n){var i=n.value,a=new Set;n.value=function(){for(var e=this,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(!a.has(this)){a.add(this);var c=i.apply(this,o);return c instanceof Promise?new Promise(function(o,n){c.then(function(n){r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),o(n)},function(o){r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),n(o)})}):(r.default.wait(Math.max(t,0)).then(function(){a.delete(e)}),c)}}}},t}();o.default=a,cc._RF.pop()},{"./Tool":"Tool"}],DialogBase:[function(t,e,o){"use strict";cc._RF.push(e,"9b83e2KZopKTb+TLQZNTspz","DialogBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),t("../../util/EditorTool");var a=t("../../util/Tool"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.disallowMultiple,p=c.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dlgAnim=null,e.openClip=null,e.closeClip=null,e._resolveList=[],e._prefabUrl="",e}return i(e,t),Object.defineProperty(e.prototype,"prefabUrl",{get:function(){return this._prefabUrl},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.dlgAnim&&(this.openClip&&this.dlgAnim.addClip(this.openClip),this.closeClip&&this.dlgAnim.addClip(this.closeClip),this.dlgAnim.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this))},e.prototype.resetInEditor=function(){},e.prototype.onAnimFinished=function(){this.dlgAnim.currentClip===this.closeClip&&this.close()},e.prototype.playOpen=function(){this.dlgAnim&&this.openClip&&this.dlgAnim.play(this.openClip.name)},e.prototype.playClose=function(){if(this.dlgAnim&&this.closeClip){if(this.dlgAnim.getAnimationState(this.closeClip.name).isPlaying)return;this.dlgAnim.play(this.closeClip.name)}else this.close()},e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.close=function(){this._resolveList.forEach(function(t){t()}),this.node.removeFromParent(),this.node.destroy()},e.prototype.onClickClose=function(){this.playClose()},e.prototype.addResolve=function(t){a.default.arrayAdd(this._resolveList,t)},e.pUrl="",r([l(cc.Animation)],e.prototype,"dlgAnim",void 0),r([l({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.dlgAnim}})],e.prototype,"openClip",void 0),r([l({type:cc.AnimationClip,tooltip:!1,visible:function(){return!!this.dlgAnim}})],e.prototype,"closeClip",void 0),r([s,u,p("Framework/\u57fa\u7840\u7ec4\u4ef6/DialogBase")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../util/EditorTool":"EditorTool","../../util/Tool":"Tool"}],DlgAnimValue:[function(t,e,o){"use strict";cc._RF.push(e,"f8bbd20CvBM+YVVlrbCIugX","DlgAnimValue");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/AnimValueLabel"),s=t("../../common/cmpt/ui/AnimValueProgress"),l=t("../../common/cmpt/ui/AnimValueProgressHP"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animLab=null,e.animProgress=null,e.animHP=null,e}return i(e,t),e.prototype.onClickLabAdd=function(){this.animLab.setValue(this.animLab.endValue+10)},e.prototype.onClickLabSub=function(){this.animLab.setValue(this.animLab.endValue-10)},e.prototype.onClickProgressAdd=function(){this.animProgress.setValue(Math.min(1,this.animProgress.endValue+.2))},e.prototype.onClickProgressSub=function(){this.animProgress.setValue(Math.max(0,this.animProgress.endValue-.2))},e.prototype.onClickHPAdd=function(){this.animHP.setValue(Math.min(1,this.animHP.endValue+.2))},e.prototype.onClickHPSub=function(){this.animHP.setValue(Math.max(0,this.animHP.endValue-.2))},e.pUrl="DlgAnimValue",r([h(c.default)],e.prototype,"animLab",void 0),r([h(s.default)],e.prototype,"animProgress",void 0),r([h(l.default)],e.prototype,"animHP",void 0),r([p],e)}(a.default);o.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/AnimValueLabel":"AnimValueLabel","../../common/cmpt/ui/AnimValueProgress":"AnimValueProgress","../../common/cmpt/ui/AnimValueProgressHP":"AnimValueProgressHP"}],DlgAudio:[function(t,e,o){"use strict";cc._RF.push(e,"58e95qc0K1MS5+q6wLEV5xB","DlgAudio");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/const/Url"),s=t("../../common/util/AudioManager"),l=t("../../common/util/Res"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.volumeSlider=null,e}return i(e,t),e.prototype.onDestroy=function(){s.default.stopAll()},e.prototype.open=function(){this.onSlide()},e.prototype.onSlide=function(){s.default.bgmVolume=this.volumeSlider.progress,s.default.sfxVolume=this.volumeSlider.progress},e.prototype.onClickBgm1FadeIn=function(){s.default.playBgm({clip:l.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgm1OutBgm2In=function(){s.default.stopBgm(l.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),5),s.default.playBgm({clip:l.default.get(c.ResUrl.AUDIO.BGM2,cc.AudioClip),fadeDuration:5})},e.prototype.onClickBgmFadeOut=function(){s.default.stopBgm(l.default.get(c.ResUrl.AUDIO.BGM1,cc.AudioClip),5),s.default.stopBgm(l.default.get(c.ResUrl.AUDIO.BGM2,cc.AudioClip),5)},e.prototype.onClickSfx1=function(){s.default.setSfxData(l.default.get(c.ResUrl.AUDIO.SFX1,cc.AudioClip),s.SfxType.NORMAL,1,!1),s.default.playSfx(l.default.get(c.ResUrl.AUDIO.SFX1,cc.AudioClip),s.SfxType.NORMAL)},e.prototype.onClickSfx2=function(){s.default.setSfxData(l.default.get(c.ResUrl.AUDIO.SFX2,cc.AudioClip),s.SfxType.NORMAL,5,!1),s.default.playSfx(l.default.get(c.ResUrl.AUDIO.SFX2,cc.AudioClip),s.SfxType.NORMAL)},e.pUrl="DlgAudio",r([h(cc.Slider)],e.prototype,"volumeSlider",void 0),r([p],e)}(a.default);o.default=f,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/Url":"Url","../../common/util/AudioManager":"AudioManager","../../common/util/Res":"Res"}],DlgBezierLine:[function(t,e,o){"use strict";cc._RF.push(e,"a7d4fiKzPpAurlu42K2B7Oc","DlgBezierLine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../common/cmpt/base/DialogBase"),l=t("../../../common/cmpt/base/Layer"),u=t("./MoveBall"),p=t("./ThirdOrderBezierGrp"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveBall=[],e.tobgCtl=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.tobgCtl.init()},e.prototype.ball2Move=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return t=this.tobgCtl.getPointsGrp(),e=this.tobgCtl.startPoint.getPosition(),[4,this.moveBall[1].tweenMove(t,e)];case 1:return o.sent(),[2]}})})},e.prototype.delateOneGrp=function(){this.tobgCtl.delateOneGrp()},e.prototype.addOneGrp=function(){this.tobgCtl.addOneGrp()},e.prototype.tipServer=function(t){l.default.inst.showTip({text:""+t,end:cc.v2(0,100),duration:.2})},e.pUrl="LyDialog/DlgBezierLine",r([d(u.default)],e.prototype,"moveBall",void 0),r([d(p.default)],e.prototype,"tobgCtl",void 0),r([f],e)}(s.default);o.default=y,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase","../../../common/cmpt/base/Layer":"Layer","./MoveBall":"MoveBall","./ThirdOrderBezierGrp":"ThirdOrderBezierGrp"}],DlgCircleList:[function(t,e,o){"use strict";cc._RF.push(e,"298ddGXoaxJPJV39/DCb+z+","DlgCircleList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/CircleList"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e}return i(e,t),e.prototype.open=function(){this.list.onInit(10,5,this.refreshItem,this)},e.prototype.refreshItem=function(t,e,o){var n={0:cc.color(255,200,200),1:cc.color(200,255,200),2:cc.color(200,200,255),3:cc.color(100,200,255),4:cc.color(200,100,255),5:cc.color(200,100,155),6:cc.color(100,150,105),7:cc.color(100,250,255),8:cc.color(200,150,255),9:cc.color(105,100,100)};t.color=n[e],t.getChildByName("lab").getComponent(cc.Label).string=e+(o?"-cur":"")},e.pUrl="DlgCircleList",r([u(c.default)],e.prototype,"list",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/CircleList":"CircleList"}],DlgComicPage:[function(t,e,o){"use strict";cc._RF.push(e,"8ee867euEpA8q5keikkRIi6","DlgComicPage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/cmpt/base/DialogBase"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scroll=null,e.bar_sprite=null,e.check_next=!1,e.check_time=0,e.count_time=0,e.only_read=!1,e.page_index=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){this.page_index=0},e.pUrl="LyDialog/DlgComicPage",r([l(cc.ScrollView)],e.prototype,"scroll",void 0),r([l(cc.Sprite)],e.prototype,"bar_sprite",void 0),r([s],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase"}],DlgEvents:[function(t,e,o){"use strict";cc._RF.push(e,"e89a2frv1FFnIYqxWPPQ4aK","DlgEvents");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common/cmpt/base/DialogBase"),l=t("../../common/const/EventName"),u=t("../../common/util/Events"),p=t("../../common/util/Tool"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab1=null,e}return i(e,t),e.prototype.onClickEmit=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,u.default.emitAsync(l.EventName.EVENT_TEST1,"\u89e6\u53d1\u4e86\u4e8b\u4ef61\uff0c\u8bf7\u7b49\u5f85\u4e8b\u4ef62")];case 1:return t.sent(),u.default.emit(l.EventName.EVENT_TEST2,"\u89e6\u53d1\u4e86\u4e8b\u4ef62"),[2]}})})},e.prototype.eventTest1=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.lab1.string=t,[4,p.default.waitCmpt(this,1)];case 1:return e.sent(),[2]}})})},e.prototype.eventTest2=function(t){this.lab1.string=t},e.pUrl="DlgEvents",r([d(cc.Label)],e.prototype,"lab1",void 0),r([u.preloadEvent(l.EventName.EVENT_TEST1)],e.prototype,"eventTest1",null),r([u.preloadEvent(l.EventName.EVENT_TEST2)],e.prototype,"eventTest2",null),r([f,u.eventsOnEnable()],e)}(s.default);o.default=y,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tool":"Tool"}],DlgGuideCase:[function(t,e,o){"use strict";cc._RF.push(e,"f1d5d0hedVEObbKnn0sbQoe","DlgGuideCase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../common/cmpt/base/DialogBase"),l=t("../../../common/cmpt/base/Layer"),u=cc._decorator,p=u.ccclass,h=(u.property,[{cmd:"click",args:"Canvas/DialogLayer/DlgGudieCase/Btns/btn1",delayTime:null,text:"\u70b9\u51fb\u6309\u94ae1"},{cmd:"click",args:"Canvas/DialogLayer/DlgGudieCase/Btns/btn2",delayTime:null,text:"\u70b9\u51fb\u6309\u94ae2"},{cmd:"click",args:"Canvas/DialogLayer/DlgGudieCase/Btns/btn3",delayTime:null,text:"\u70b9\u51fb\u6309\u94ae3"}]),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guideSpt=null,e}return i(e,t),e.prototype.start=function(){this.initLocalGuide()},e.prototype.initLocalGuide=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=this,[4,l.default.inst.getGuide()];case 1:return t.guideSpt=e.sent(),[2]}})})},e.prototype.getLocalGuideData=function(){this.guideSpt.startLocalGuide(h),this.guideSpt.startGuide()},e.prototype.getExcelGuide=function(){this.guideSpt.getExcelGuide(),this.guideSpt.startGuide()},e.prototype.close=function(){t.prototype.close.call(this),l.default.inst.closeGuide()},e.pUrl="LyDialog/DlgGuideCase",r([p],e)}(s.default);o.default=f,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase","../../../common/cmpt/base/Layer":"Layer"}],DlgGuide:[function(t,e,o){"use strict";cc._RF.push(e,"15726SfzZpI/Z3Wva2n6Ds9","DlgGuide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../common/util/DataCtr"),l=t("./HollowOut"),u=t("./TouchBlocker"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hollowOut=null,e.touchBlocker=null,e.textNode=null,e.clickText=null,e.textLab=null,e.task=[],e.inGuide=!1,e.nowIndex=0,e}return i(e,t),e.prototype.init=function(){this.textLab=this.textNode.getChildByName("textLab").getComponent(cc.Label)},e.prototype.startLocalGuide=function(t){this.task=t,this.nowIndex=0,this.touchBlocker.blockAll()},e.prototype.getExcelGuide=function(){this.task=s.DataCtr.getTable("Guide"),this.nowIndex=0},e.prototype.startGuide=function(){this.inGuide=!0,this.checkGuide()},e.prototype.checkGuide=function(){if(this.inGuide&&!(this.nowIndex>=this.task.length))switch(this.task[this.nowIndex].cmd){case"click":this.clickServer(this.task[this.nowIndex]);break;case"text":this.textServer(this.task[this.nowIndex])}},e.prototype.clickServer=function(t){var e;return a(this,void 0,void 0,function(){var o,n=this;return c(this,function(i){switch(i.label){case 0:return this.hollowOut.node.active=!0,o=cc.find(t.args),[4,this.hollowOut.rectTo(.5,o.getPosition(),o.width+10,o.height+10,5,5)];case 1:return i.sent(),null!=t.text?(this.clickText.node.active=!0,this.clickText.string=""+t.text,this.clickText.node.setPosition(null!==(e=t.textPos)&&void 0!==e?e:cc.v2(0,0))):this.clickText.node.active=!1,o.once(cc.Node.EventType.TOUCH_END,function(){n.hollowOut.node.active=!1,n.nowIndex+=1,n.checkGuide()}),this.touchBlocker.setTarget(o),[2]}})})},e.prototype.textServer=function(t){var e=this;this.textNode.active=!0,this.textLab.string=""+t.args,this.textNode.once(cc.Node.EventType.TOUCH_END,function(){e.nowIndex+=1,e.textNode.active=!1,e.checkGuide()})},e.prototype.close=function(){this.inGuide=!1,this.hollowOut.node.active=!1,this.textLab.node.active=!1,this.textNode.active=!1},r([f(l.default)],e.prototype,"hollowOut",void 0),r([f(u.default)],e.prototype,"touchBlocker",void 0),r([f(cc.Node)],e.prototype,"textNode",void 0),r([f(cc.Label)],e.prototype,"clickText",void 0),r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../common/util/DataCtr":"DataCtr","./HollowOut":"HollowOut","./TouchBlocker":"TouchBlocker"}],DlgI18N:[function(t,e,o){"use strict";cc._RF.push(e,"a9171RouStMtpX2jd36HPxf","DlgI18N");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../i18n/I18n"),s=t("../../i18n/LocalizedLabel"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text1=null,e.text2=null,e}return i(e,t),e.prototype.open=function(){this.text1.setOption({num:10}),this.text2.setOption(10,"---")},e.prototype.onClickZh=function(){c.default.switch(c.LangType.ZH)},e.prototype.onClickEn=function(){c.default.switch(c.LangType.EN)},e.pUrl="DlgI18N",r([p(s.default)],e.prototype,"text1",void 0),r([p(s.default)],e.prototype,"text2",void 0),r([u],e)}(a.default);o.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../i18n/I18n":"I18n","../../i18n/LocalizedLabel":"LocalizedLabel"}],DlgJellyTween:[function(t,e,o){"use strict";cc._RF.push(e,"af731JqcBlJWbf3zDhHO5VN","DlgJellyTween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/cmpt/base/DialogBase"),c=t("./JellyTweenCases"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.jellyCtl=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.scaleTweenServer=function(){this.init1(),this.jellyCtl.scaleTweenServer()},e.prototype.backForthServer=function(){this.init1(),this.jellyCtl.sitTweenServer(cc.v2(100,0))},e.prototype.jellyFallServer=function(){this.init2(),this.jellyCtl.scaleTweenServer(),this.jellyCtl.jellyFall(cc.v2(0,200))},e.prototype.init1=function(){this.jellyCtl.node.setPosition(0,0),this.jellyCtl.node.setScale(1),this.jellyCtl.frequency=4,this.jellyCtl.decay=2,this.jellyCtl.totalTime=1,this.jellyCtl.pressScale=.2,this.jellyCtl.stopAllTween()},e.prototype.init2=function(){this.jellyCtl.node.setPosition(0,200),this.jellyCtl.node.setScale(1),this.jellyCtl.frequency=2,this.jellyCtl.decay=2.7,this.jellyCtl.totalTime=1.3,this.jellyCtl.pressScale=.3,this.jellyCtl.stopAllTween()},e.pUrl="LyDialog/DlgJellyTween",r([u(c.default)],e.prototype,"jellyCtl",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase","./JellyTweenCases":"JellyTweenCases"}],DlgLayer:[function(t,e,o){"use strict";cc._RF.push(e,"4ec76yKbilLcJyDdXnzkwAH","DlgLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common/cmpt/base/DialogBase"),l=t("../../common/cmpt/base/Layer"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.open=function(){},e.prototype.onClockAwait=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,l.default.inst.openUniDialogAsync("layer/DlgLayer2")];case 1:return t.sent(),[4,l.default.inst.waitCloseDialog("layer/DlgLayer2")];case 2:return t.sent(),[4,l.default.inst.openUniDialogAsync("layer/DlgLayer3")];case 3:return t.sent(),[2]}})})},e.prototype.onClickTipUnique=function(){l.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u552f\u4e00\u63d0\u793a",unique:!0,end:cc.v2(0,100)})},e.prototype.onClickTip=function(){l.default.inst.showTip({text:"\u8fd9\u662f\u4e00\u6761\u666e\u901a\u63d0\u793a",end:cc.v2(0,100),duration:0})},e.pUrl="layer/DlgLayer",r([p],e)}(s.default));o.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Layer":"Layer"}],DlgLyShader:[function(t,e,o){"use strict";cc._RF.push(e,"4cad9tKj3RJO4Lbz3GYFmHA","DlgLyShader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/cmpt/base/DialogBase"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.pUrl="LyDialog/DlgLyShader",r([s],e)}(a.default));o.default=l,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase"}],DlgLyTip:[function(t,e,o){"use strict";cc._RF.push(e,"6cc693SzNNHVbI2hQYdGzfF","DlgLyTip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.lyTip=void 0;var a=t("../../common/cmpt/base/Layer"),c=t("../../common/util/RecyclePool"),s=t("../../common/util/Tween"),l=t("../other/LyTipPre"),u=cc._decorator,p=u.ccclass,h=u.property;o.lyTip="LyTip";var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipGrp=[],e.titleLab=null,e.titleNode=null,e.lyTipPre=null,e.tipData=null,e.canClickTitle=!1,e.titleTween=null,e}return i(e,t),e.prototype.init=function(t){var e=c.default.get(o.lyTip);if(null==e)for(var n=0;n<10;n++)c.default.put(o.lyTip,cc.instantiate(this.lyTipPre));else c.default.put(o.lyTip,e);this.tipData=t,this.canClickTitle=!0,this.titleInit(),this.addTipGrp()},e.prototype.closeDlg=function(){a.default.inst.closeDialogs(this.tipData.url);for(var t=this.tipGrp[0].children.length;t>0;t--)c.default.put(o.lyTip,this.tipGrp[0].children[t-1]);for(t=this.tipGrp[1].children.length;t>0;t--)c.default.put(o.lyTip,this.tipGrp[1].children[t-1]);a.default.inst.closeLyTip()},e.prototype.addTipGrp=function(){if(this.tipData.hasOwnProperty("rightTip"))for(var t=0;t<this.tipData.rightTip.length;t++)(e=c.default.get(o.lyTip)).getComponent(l.default).init(!0,""+this.tipData.rightTip[t]),e.anchorX=1,e.parent=this.tipGrp[1],e.setPosition(cc.v2(0));if(this.tipData.hasOwnProperty("leftTip"))for(t=0;t<this.tipData.leftTip.length;t++){var e;(e=c.default.get(o.lyTip)).parent=this.tipGrp[0],e.getComponent(l.default).init(!1,""+this.tipData.leftTip[t]),e.setPosition(cc.v2(0))}for(t=0;t<2;t++)this.tipGrp[t].getComponent(cc.Layout).updateLayout(),this.tipGrp[t].getComponent(cc.Widget).updateAlignment()},e.prototype.titleInit=function(){this.titleLab.string=""+this.tipData.title,this.titleNode.y=-470,this.titleTween&&this.titleTween.stop()},e.prototype.titleClick=function(){var t=this;this.canClickTitle&&(this.canClickTitle=!1,-470==this.titleNode.y?this.titleTween=new s.Tween(this.titleNode).to({y:-255},300).onComplete(function(){t.canClickTitle=!0}).start():this.titleTween=new s.Tween(this.titleNode).to({y:-470},300).onComplete(function(){t.canClickTitle=!0}).start())},e.pUrl="LyDialog/DlgLyTip",r([h({type:cc.Node,tooltip:"\u4e24\u4e2a\u63d0\u793a\u5bb9\u5668"})],e.prototype,"tipGrp",void 0),r([h({type:cc.Label,tooltip:"\u6807\u9898\u5185\u5bb9"})],e.prototype,"titleLab",void 0),r([h({type:cc.Node,tooltip:"\u63a7\u5236\u6807\u9898\u79fb\u52a8\u8282\u70b9"})],e.prototype,"titleNode",void 0),r([h({type:cc.Prefab,displayName:"\u63d0\u793a\u6846\u9884\u5236\u4f53"})],e.prototype,"lyTipPre",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer","../../common/util/RecyclePool":"RecyclePool","../../common/util/Tween":"Tween","../other/LyTipPre":"LyTipPre"}],DlgMultiTexture:[function(t,e,o){"use strict";cc._RF.push(e,"19593ehMPtLsoeEdjduLcNZ","DlgMultiTexture");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common/cmpt/base/DialogBase"),l=t("../../common/cmpt/ui/MultiSprite/MultiSprite"),u=t("../../common/cmpt/ui/MultiSprite/MultiTextureManager"),p=t("../../common/const/Url"),h=t("../../common/util/Res"),f=cc._decorator,d=f.ccclass,y=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item1=null,e.item2=null,e.item3=null,e}return i(e,t),e.prototype.open=function(){return a(this,void 0,void 0,function(){var t,e,o,n;return c(this,function(i){switch(i.label){case 0:return t=[p.ResUrl.ATLAS.EN,p.ResUrl.ATLAS.ZH],[4,h.default.load(t[0],cc.SpriteAtlas)];case 1:return e=i.sent(),u.MultiTextureManager.setTexture(0,e.getTexture()),this.createNodes(),[4,h.default.load(t[1],cc.SpriteAtlas)];case 2:return e=i.sent(),u.MultiTextureManager.setTexture(1,e.getTexture()),this.createNodes(),o=this.node.getChildByName("bg").children[this.node.getChildByName("bg").childrenCount-1],(n=o.getComponent(l.default).spriteFrame)._original&&u.MultiTextureManager.setTexture(2,n.getTexture()),this.createNodes(),[2]}})})},e.prototype.createNodes=function(){var t=h.default.instantiate(this.item1);this.node.getChildByName("bg").addChild(t),t.setPosition(0,0);var e=h.default.instantiate(this.item2);this.node.getChildByName("bg").addChild(e),e.setPosition(0,0);var o=h.default.instantiate(this.item3);this.node.getChildByName("bg").addChild(o),o.setPosition(0,0)},e.pUrl="DlgMultiTexture",r([y(cc.Node)],e.prototype,"item1",void 0),r([y(cc.Node)],e.prototype,"item2",void 0),r([y(cc.Node)],e.prototype,"item3",void 0),r([d],e)}(s.default);o.default=_,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/MultiSprite/MultiSprite":"MultiSprite","../../common/cmpt/ui/MultiSprite/MultiTextureManager":"MultiTextureManager","../../common/const/Url":"Url","../../common/util/Res":"Res"}],DlgShader:[function(t,e,o){"use strict";cc._RF.push(e,"21c0dRZWaBCla5UnByvFBHD","DlgShader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/base/Timer"),s=t("../../common/cmpt/shader/ShaderFill"),l=t("../../common/cmpt/shader/ShaderTile"),u=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tile=null,e.fill=null,e._tween=null,e._sx=2,e}return i(e,t),e.prototype.open=function(){var t=this;this._tween=new u.Tween(this.fill,u.SCALE_TWEEN).to({fillPhase:[1,0]},1e3).repeat(1e3).easing(u.Easing.Quadratic.In).onUpdate(function(){t.fill.updateShader()}).start()},e.prototype.update=function(){this.tile.scale.x+=c.default.scaleDt*this._sx,this.tile.scale.x>=10?this._sx=-2:this.tile.scale.x<=1&&(this._sx=2),this.tile.offset.x-=5*c.default.scaleDt,this.tile.updateShader()},e.pUrl="DlgShader",r([f(l.default)],e.prototype,"tile",void 0),r([f(s.default)],e.prototype,"fill",void 0),r([h],e)}(a.default);o.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/cmpt/shader/ShaderFill":"ShaderFill","../../common/cmpt/shader/ShaderTile":"ShaderTile","../../common/util/Tween":"Tween"}],DlgShake:[function(t,e,o){"use strict";cc._RF.push(e,"bd6c4Iq8qRDJKuuv1WVfEB5","DlgShake");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/ShakeNode"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shake=null,e}return i(e,t),e.prototype.onClickShake=function(){this.shake.shake(1)},e.pUrl="DlgShake",r([u(c.default)],e.prototype,"shake",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/ShakeNode":"ShakeNode"}],DlgShufflingFigure:[function(t,e,o){"use strict";cc._RF.push(e,"19027vZsHdIp6oWFiR5ABhE","DlgShufflingFigure");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/cmpt/base/DialogBase"),c=t("./ShufflingFigure"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.sfgCtl=null,e}return i(e,t),e.prototype.onLoad=function(){this.content=this.node.getChildByName("content"),this.sfgCtl=this.content.getComponent(c.default)},e.prototype.start=function(){this.sfgCtl.structPageInit()},e.pUrl="LyDialog/DlgShufflingFigure",r([l],e)}(a.default));o.default=u,cc._RF.pop()},{"../../../common/cmpt/base/DialogBase":"DialogBase","./ShufflingFigure":"ShufflingFigure"}],DlgTimer:[function(t,e,o){"use strict";cc._RF.push(e,"9b543Kex11AiqArfFrv2+Ru","DlgTimer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/base/Timer"),s=t("../../common/const/EventName"),l=t("../../common/util/Events"),u=t("../../common/util/Tween"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slider=null,e.move1=null,e.move2=null,e.move3=null,e._dir=1,e._tween=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),l.default.targetOn(this)},e.prototype.onDestroy=function(){var t;null===(t=this._tween)||void 0===t||t.stop(),l.default.targetOff(this)},e.prototype.update=function(){this.move2.x+=300*c.default.scaleDt*this._dir,this._dir>0&&this.move2.x>500?this._dir=-1:this._dir<0&&this.move2.x<-500&&(this._dir=1)},e.prototype.open=function(){this.slider.progress=c.default.timeScale,this.slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.slider.progress)/100,this.eventTimeScale(),this._tween=new u.Tween(this.move3,u.SCALE_TWEEN).to({x:[300,-300],y:[300,-300]},2e3).repeat(1e3).start()},e.prototype.onSlide=function(){this.slider.node.getChildByName("lab").getComponent(cc.Label).string="timescale: "+Math.floor(100*this.slider.progress)/100,c.default.timeScale=this.slider.progress},e.prototype.eventTimeScale=function(){this.move1.getComponent(cc.Animation).getAnimationState("move").speed=c.default.timeScale},e.pUrl="DlgTimer",r([f(cc.Slider)],e.prototype,"slider",void 0),r([f(cc.Node)],e.prototype,"move1",void 0),r([f(cc.Node)],e.prototype,"move2",void 0),r([f(cc.Node)],e.prototype,"move3",void 0),r([l.preloadEvent(s.EventName.TIME_SCALE)],e.prototype,"eventTimeScale",null),r([h],e)}(a.default);o.default=d,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/base/Timer":"Timer","../../common/const/EventName":"EventName","../../common/util/Events":"Events","../../common/util/Tween":"Tween"}],DlgVirtualList:[function(t,e,o){"use strict";cc._RF.push(e,"eb01cTRb7xNToN1S9Cs/qlr","DlgVirtualList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/DialogBase"),c=t("../../common/cmpt/ui/VirtualList"),s=t("../../common/util/Tool"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=null,e.rndLab=null,e._rnd=0,e}return i(e,t),e.prototype.open=function(){for(var t=0;t<50;t++)this.list.push({num:s.default.randInt(0,1e3)});this._rnd=s.default.randInt(0,this.list.argsArr.length),this.rndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.prototype.onClickAdd=function(){this.list.push({num:s.default.randInt(0,1e3)})},e.prototype.onClickDelete=function(){this.list.splice(0,1)},e.prototype.onClickScroll=function(){this.list.scrollItemToView(this._rnd,cc.v2(0,1),cc.v2(0,1),.5,!0),this._rnd=s.default.randInt(0,this.list.argsArr.length),this.rndLab.string="-> \u4e0b\u4e00\u6b21\u6eda\u52a8\u5230\u7684\u4e0b\u6807\u4e3a\uff1a"+this._rnd},e.pUrl="DlgVirtualList",r([p(c.default)],e.prototype,"list",void 0),r([p(cc.Label)],e.prototype,"rndLab",void 0),r([u],e)}(a.default);o.default=h,cc._RF.pop()},{"../../common/cmpt/base/DialogBase":"DialogBase","../../common/cmpt/ui/VirtualList":"VirtualList","../../common/util/Tool":"Tool"}],EditorTool:[function(t,e,o){"use strict";cc._RF.push(e,"50fe9qyZR5LgYuxXN3oK78x","EditorTool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.load=function(){return new Promise(function(t){t(null)})},t}();o.default=n,cc._RF.pop()},{}],EnumName:[function(t,e,o){"use strict";cc._RF.push(e,"5950aXkYRlLg5ExTJGOPDjH","EnumName"),Object.defineProperty(o,"__esModule",{value:!0}),o.Login_Status=o.Sdk_Platform=void 0,function(t){t[t.DEBUG=0]="DEBUG",t[t.F_4399=1]="F_4399",t[t.WECHAT=2]="WECHAT",t[t.VIVO=3]="VIVO",t[t.OPPO=4]="OPPO",t[t.BYTEDANCE=5]="BYTEDANCE",t[t.HUAWEI=6]="HUAWEI"}(o.Sdk_Platform||(o.Sdk_Platform={})),function(t){t[t.CHECK=1]="CHECK",t[t.LOGIN=2]="LOGIN",t[t.LOAD_RES=3]="LOAD_RES",t[t.LOGIN_FAIL=4]="LOGIN_FAIL",t[t.LOGIN_SUCCESS=5]="LOGIN_SUCCESS",t[t.UPDATE_VERSION=6]="UPDATE_VERSION",t[t.CHECK_UPDATE=7]="CHECK_UPDATE",t[t.UPDATE_FAIL=8]="UPDATE_FAIL",t[t.TO_MAIN=9]="TO_MAIN"}(o.Login_Status||(o.Login_Status={})),cc._RF.pop()},{}],En:[function(t,e,o){"use strict";cc._RF.push(e,"e1a79yRjpZFiZ8ShC5YIRcu","En"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={lang:"English",text1:"number: %{num}",text2:"param1: %{arg1}, param2: %{arg2}"},cc._RF.pop()},{}],EventName:[function(t,e,o){"use strict";cc._RF.push(e,"52bf65jN2xMY6Ig2aroKkQw","EventName"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventName=void 0,function(t){t[t.RESIZE=0]="RESIZE",t[t.UPDATE_LOCALIZED_CMPT=1]="UPDATE_LOCALIZED_CMPT",t[t.GAME_PAUSE=2]="GAME_PAUSE",t[t.GAME_RESUME=3]="GAME_RESUME",t[t.TIME_SCALE=4]="TIME_SCALE",t[t.CAMERA_MOVE=5]="CAMERA_MOVE",t[t.LOGIN_EVENT=6]="LOGIN_EVENT",t[t.EVENT_TEST1=7]="EVENT_TEST1",t[t.EVENT_TEST2=8]="EVENT_TEST2",t[t.BEZIER_DRAW=9]="BEZIER_DRAW"}(o.EventName||(o.EventName={})),cc._RF.pop()},{}],Events:[function(t,e,o){"use strict";cc._RF.push(e,"aae4cQnarlFE4m+zeU7vd7m","Events");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.preloadEvent=o.eventsOnEnable=o.eventsOnLoad=void 0;var r=t("../const/EventName");function a(t,e,o,n){void 0===n&&(n=!0);var i=t.prototype[e],r=t.prototype[o];t.prototype[e]=function(){c.targetOn(this,n),i&&i.call(this)},t.prototype[o]=function(){c.targetOff(this),r&&r.call(this)}}o.eventsOnLoad=function(t){return void 0===t&&(t=!0),function(e){a(e,"onLoad","onDestroy",t)}},o.eventsOnEnable=function(t){return void 0===t&&(t=!0),function(e){a(e,"onEnable","onDisable",t)}},o.preloadEvent=function(t,e){return void 0===e&&(e=!1),function(o,n){var i=c.classMap.get(o.constructor);if(void 0===i)i=[],c.classMap.set(o.constructor,i);else if(i.find(function(e){return e.event===t&&e.funcName===n}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u8f7d\u5165");i.push({event:t,funcName:n,once:e})}};var c=function(){function t(){}return t.targetOn=function(t,e){var o=this;if(void 0===e&&(e=!0),e)this.classMap.forEach(function(e,n){if(t instanceof n)for(var i=0;i<e.length;i++){var r=e[i];o.on(r.event,t[r.funcName],t,r.once)}});else{var n=this.classMap.get(t.constructor);if(n)for(var i=0;i<n.length;i++){var r=n[i];this.on(r.event,t[r.funcName],t,r.once)}}},t.on=function(t,e,o,n){if(void 0===n&&(n=!1),e&&o){var i=this._eventsMap.get(t),a=[];if(void 0===i)(i=new Map).set(o,a),this._eventsMap.set(t,i);else if(void 0===(a=i.get(o)))a=[],i.set(o,a);else if(a.find(function(t){return t.cb===e}))return void cc.error("event: "+r.EventName[t]+" \u91cd\u590d\u6ce8\u518c");var c={cb:e,once:n};a.push(c)}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.once=function(t,e,o){this.on(t,e,o,!0)},t.off=function(t,e,o){if(e&&o){var n=this._eventsMap.get(t);if(void 0!==n){var i=n.get(o);if(void 0!==i){var a=i.findIndex(function(t){return t.cb===e});a<0?cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u4ee5\u8be5listener\u6ce8\u518c\u8be5\u4e8b\u4ef6"):(i.splice(a,1),i.length<=0&&(n.delete(o),n.size<=0&&this._eventsMap.delete(t)))}else cc.error("event: "+r.EventName[t]+" target\u4e0a\u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")}else cc.error("event: "+r.EventName[t]+" listener\u6216target\u4e0d\u80fd\u4e3a\u7a7a")},t.targetOff=function(t){var e=this;t?this._eventsMap.forEach(function(o,n){o.delete(t),o.size<=0&&e._eventsMap.delete(n)}):cc.error("event: "+t+" target\u4e0d\u80fd\u4e3a\u7a7a")},t.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this._eventsMap.get(t);if(void 0!==n){var i,a=[],c=[];for(n.forEach(function(t,e){for(i=0;i<t.length;i++){var o=t[i];a.push({cb:o.cb,target:e}),o.once&&c.push({cb:o.cb,target:e})}}),i=0;i<c.length;i++){var s=c[i];this.off(t,s.cb,s.target)}for(i=0;i<a.length;i++)(s=a[i]).cb.apply(s.target,e)}else cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6")},t.emitAsync=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return n(this,void 0,Promise,function(){var o,n,a,c,s,l;return i(this,function(i){switch(i.label){case 0:if(void 0===(o=this._eventsMap.get(t)))return cc.warn("event: "+r.EventName[t]+" \u672a\u6ce8\u518c\u8be5\u4e8b\u4ef6"),[2];for(a=[],c=[],o.forEach(function(t,e){for(n=0;n<t.length;n++){var o=t[n];a.push({cb:o.cb,target:e}),o.once&&c.push({cb:o.cb,target:e})}}),n=0;n<c.length;n++)l=c[n],this.off(t,l.cb,l.target);for(s=[],n=0;n<a.length;n++)l=a[n],s.push(l.cb.apply(l.target,e));return[4,Promise.all(s)];case 1:return i.sent(),[2]}})})},t.classMap=new Map,t._eventsMap=new Map,t}();o.default=c,cc._RF.pop()},{"../const/EventName":"EventName"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"1ee18MAKgRPz4Ig/89N8gDX","Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common/cmpt/base/Layer"),l=t("../../common/const/Url"),u=t("../../common/util/Events"),p=t("../../common/util/Res"),h=t("../../LyShowCase/dialog/DlgBezierLine/DlgBezierLine"),f=t("../../LyShowCase/dialog/DlgGuide/DlgGuideCase"),d=t("../../LyShowCase/dialog/DlgJellyTween/DlgJellyTween"),y=t("../../LyShowCase/dialog/DlgLyShader/DlgLyShader"),_=t("../../LyShowCase/dialog/DlgShufflingFigure/DlgShufflingFigure"),g=t("../dialog/DlgAnimValue"),m=t("../dialog/DlgAudio"),v=t("../dialog/DlgCircleList"),b=t("../dialog/DlgEvents"),O=t("../dialog/DlgI18N"),w=t("../dialog/DlgLayer"),P=t("../dialog/DlgMultiTexture"),T=t("../dialog/DlgShader"),A=t("../dialog/DlgShake"),S=t("../dialog/DlgTimer"),R=t("../dialog/DlgVirtualList"),E=cc._decorator,x=E.ccclass,M=(E.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickHome=function(){s.default.inst.enterHome()},e.prototype.onClickTimer=function(){s.default.inst.openUniDialogAsync(S.default.pUrl)},e.prototype.onClickLayer=function(){s.default.inst.openUniDialogAsync(w.default.pUrl)},e.prototype.onClickShader=function(){s.default.inst.openUniDialogAsync(T.default.pUrl)},e.prototype.onClickAnimValue=function(){s.default.inst.openUniDialogAsync(g.default.pUrl)},e.prototype.onClickButton=function(){s.default.inst.openUniDialogAsync("DlgButton")},e.prototype.onClickShake=function(){s.default.inst.openUniDialogAsync(A.default.pUrl)},e.prototype.onClickVirtualList=function(){s.default.inst.openUniDialogAsync(R.default.pUrl)},e.prototype.onClickCircleList=function(){s.default.inst.openUniDialogAsync(v.default.pUrl)},e.prototype.onClickAudio=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return s.default.inst.openUniDialogAsync(m.default.pUrl),s.default.inst.showLoading(),[4,p.default.loadDir(l.DirUrl.AUDIO,cc.AudioClip)];case 1:return t.sent(),s.default.inst.hideLoading(),[2]}})})},e.prototype.onClickI18N=function(){s.default.inst.openUniDialogAsync(O.default.pUrl)},e.prototype.onClickEvent=function(){s.default.inst.openUniDialogAsync(b.default.pUrl)},e.prototype.onClickMultiTexture=function(){s.default.inst.openUniDialogAsync(P.default.pUrl)},e.prototype.onClickShufflingFigure=function(){s.default.inst.openUniDialogAsync(_.default.pUrl),s.default.inst.showLyTip({url:_.default.pUrl,title:"\u8f6e\u64ad\u56fe\uff1a\u76f8\u6bd4\u666e\u901a\u7684\u5c55\u793a\uff0c\u6dfb\u52a0\u4e86\u8f6e\u52a8\u524d\u56de\u8c03\u4ee5\u53ca\u6eda\u52a8\u7ed3\u675f\u56de\u8c03\uff0c\u66f4\u7b26\u5408\u5b9e\u9645\u9879\u76ee\u9700\u6c42",leftTip:["\u53ef\u4ee5\u6ed1\u52a8\u89e6\u6478\u6eda\u52a8"]})},e.prototype.onClickBezierLine=function(){s.default.inst.openUniDialogAsync(h.default.pUrl),s.default.inst.showLyTip({url:h.default.pUrl,title:"\u53ef\u89c6\u5316\u591a\u6bb5\u4e09\u9636\u8d1d\u585e\u5c14\u66f2\u7ebf",leftTip:["\u53ef\u4ee5\u62d6\u52a8\u63a7\u5236\u70b9"]})},e.prototype.onClickGuideCase=function(){s.default.inst.openUniDialogAsync(f.default.pUrl),s.default.inst.showLyTip({url:f.default.pUrl,title:"\u6316\u6d1e\u65b0\u624b\u5f15\u5bfc\uff0c\u4f7f\u7528\u9648\u76ae\u76ae\u7684\u6316\u6d1e\u65b9\u6848\uff0c\u914d\u5408\u8bfb\u53d6\u672c\u5730\u914d\u7f6e\u4f7f\u7528",leftTip:["local\u65b0\u624b\u5f15\u5bfc","\u8bfb\u53d6excel\u7684\u8868\u683c\u5f15\u5bfc"]})},e.prototype.onClickJellyCase=function(){s.default.inst.openUniDialogAsync(d.default.pUrl),s.default.inst.showLyTip({url:d.default.pUrl,title:"\u679c\u51bb\u5f39\u6027\u6548\u679c"})},e.prototype.onClickLyShaderCase=function(){s.default.inst.openUniDialogAsync(y.default.pUrl),s.default.inst.showLyTip({url:y.default.pUrl,title:"\u4e00\u4e9bshader\u4f8b\u5b50"})},r([x,u.eventsOnLoad()],e)}(cc.Component));o.default=M,cc._RF.pop()},{"../../LyShowCase/dialog/DlgBezierLine/DlgBezierLine":"DlgBezierLine","../../LyShowCase/dialog/DlgGuide/DlgGuideCase":"DlgGuideCase","../../LyShowCase/dialog/DlgJellyTween/DlgJellyTween":"DlgJellyTween","../../LyShowCase/dialog/DlgLyShader/DlgLyShader":"DlgLyShader","../../LyShowCase/dialog/DlgShufflingFigure/DlgShufflingFigure":"DlgShufflingFigure","../../common/cmpt/base/Layer":"Layer","../../common/const/Url":"Url","../../common/util/Events":"Events","../../common/util/Res":"Res","../dialog/DlgAnimValue":"DlgAnimValue","../dialog/DlgAudio":"DlgAudio","../dialog/DlgCircleList":"DlgCircleList","../dialog/DlgEvents":"DlgEvents","../dialog/DlgI18N":"DlgI18N","../dialog/DlgLayer":"DlgLayer","../dialog/DlgMultiTexture":"DlgMultiTexture","../dialog/DlgShader":"DlgShader","../dialog/DlgShake":"DlgShake","../dialog/DlgTimer":"DlgTimer","../dialog/DlgVirtualList":"DlgVirtualList"}],HollowOut:[function(t,e,o){"use strict";cc._RF.push(e,"826c1DeJKZJOaBPEKmCSIFb","HollowOut");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.HollowOutShape=void 0;var s,l=cc._decorator,u=l.ccclass,p=l.property,h=l.requireComponent,f=l.executeInEditMode,d=l.disallowMultiple,y=l.executionOrder;(function(t){t[t.Rect=1]="Rect",t[t.Circle=2]="Circle"})(s=o.HollowOutShape||(o.HollowOutShape={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._effect=null,e._shape=s.Rect,e._center=cc.v2(),e._width=300,e._height=300,e._round=1,e._radius=200,e._feather=.5,e.sprite=null,e.material=null,e.tweenRes=null,e}return i(e,t),Object.defineProperty(e.prototype,"effect",{get:function(){return this._effect},set:function(t){this._effect=t,this.init()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this._center},set:function(t){this._center=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.updateProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"feather",{get:function(){return this._feather},set:function(t){this._feather=t,this.updateProperties()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.resetInEditor=function(){this.init()},e.prototype.init=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(){return this._effect?((t=this.sprite=this.node.getComponent(cc.Sprite)).spriteFrame&&(t.spriteFrame.getTexture().packable=!1),this.material=cc.Material.create(this._effect),t.setMaterial(0,this.material),this.updateProperties(),[2]):[2]})})},e.prototype.updateProperties=function(){switch(this._shape){case s.Rect:this.rect(this._center,this._width,this._height,this._round,this._feather);break;case s.Circle:this.circle(this._center,this._radius,this._feather)}},e.prototype.rect=function(t,e,o,n,i){if(this._shape=s.Rect,null!=t&&(this._center=t),null!=e&&(this._width=e),null!=o&&(this._height=o),null!=n){this._round=n>=0?n:0;var r=Math.min(this._width/2,this._height/2);this._round=this._round<=r?this._round:r}null!=i&&(this._feather=i>=0?i:0,this._feather=this._feather<=this._round?this._feather:this._round);var a=this.material;a.setProperty("size",this.getNodeSize()),a.setProperty("center",this.getCenter(this._center)),a.setProperty("width",this.getWidth(this._width)),a.setProperty("height",this.getHeight(this._height)),a.setProperty("round",this.getRound(this._round)),a.setProperty("feather",this.getFeather(this._feather))},e.prototype.circle=function(t,e,o){this._shape=s.Circle,null!=t&&(this._center=t),null!=e&&(this._radius=e),null!=o&&(this._feather=o>=0?o:0);var n=this.material;n.setProperty("size",this.getNodeSize()),n.setProperty("center",this.getCenter(this._center)),n.setProperty("width",this.getWidth(2*this._radius)),n.setProperty("height",this.getHeight(2*this._radius)),n.setProperty("round",this.getRound(this._radius)),n.setProperty("feather",this.getFeather(this._feather))},e.prototype.rectTo=function(t,e,o,n,i,r){var a=this;return void 0===i&&(i=0),void 0===r&&(r=0),new Promise(function(c){a._shape=s.Rect,cc.Tween.stopAllByTarget(a),a.unscheduleAllCallbacks(),a.tweenRes&&a.tweenRes(),a.tweenRes=c,i=Math.min(i,o/2,n/2),r=Math.min(r,i),cc.tween(a).to(t,{center:e,width:o,height:n,round:i,feather:r}).call(function(){a.scheduleOnce(function(){a.tweenRes&&(a.tweenRes(),a.tweenRes=null)})}).start()})},e.prototype.circleTo=function(t,e,o,n){var i=this;return void 0===n&&(n=0),new Promise(function(r){i._shape=s.Circle,cc.Tween.stopAllByTarget(i),i.unscheduleAllCallbacks(),i.tweenRes&&i.tweenRes(),i.tweenRes=r,cc.tween(i).to(t,{center:e,radius:o,feather:n}).call(function(){i.scheduleOnce(function(){i.tweenRes&&(i.tweenRes(),i.tweenRes=null)})}).start()})},e.prototype.reset=function(){this.rect(cc.v2(),0,0,0,0)},e.prototype.setNodeSize=function(){var t=this.node,e=t.width,o=t.height;this._radius=Math.sqrt(Math.pow(e,2)+Math.pow(o,2))/2,this.rect(t.getPosition(),e,o,0,0)},e.prototype.getCenter=function(t){var e=this.node,o=e.width,n=e.height,i=(t.x+o/2)/o,r=(-t.y+n/2)/n;return cc.v2(i,r)},e.prototype.getNodeSize=function(){return cc.v2(this.node.width,this.node.height)},e.prototype.getWidth=function(t){return t/this.node.width},e.prototype.getHeight=function(t){return t/this.node.width},e.prototype.getRound=function(t){return t/this.node.width},e.prototype.getFeather=function(t){return t/this.node.width},r([p],e.prototype,"_effect",void 0),r([p({type:cc.EffectAsset,tooltip:!1,readonly:!0})],e.prototype,"effect",null),r([p],e.prototype,"_shape",void 0),r([p({type:cc.Enum(s),tooltip:!1})],e.prototype,"shape",null),r([p],e.prototype,"_center",void 0),r([p({tooltip:!1})],e.prototype,"center",null),r([p],e.prototype,"_width",void 0),r([p({tooltip:!1,visible:function(){return this._shape===s.Rect}})],e.prototype,"width",null),r([p],e.prototype,"_height",void 0),r([p({tooltip:!1,visible:function(){return this._shape===s.Rect}})],e.prototype,"height",null),r([p],e.prototype,"_round",void 0),r([p({tooltip:!1,visible:function(){return this._shape===s.Rect}})],e.prototype,"round",null),r([p],e.prototype,"_radius",void 0),r([p({tooltip:!1,visible:function(){return this._shape===s.Circle}})],e.prototype,"radius",null),r([p],e.prototype,"_feather",void 0),r([p({tooltip:!1,visible:function(){return this._shape===s.Circle||this.round>0}})],e.prototype,"feather",null),r([u,h(cc.Sprite),f,d,y(-10)],e)}(cc.Component);o.default=_,cc._RF.pop()},{}],Home:[function(t,e,o){"use strict";cc._RF.push(e,"1d227cGCflICZGjBQkLC7vS","Home");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickGame=function(){a.default.inst.enterGame()},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer"}],I18n:[function(t,e,o){"use strict";cc._RF.push(e,"a24383d1j1FRbXaBkcPctfn","I18n"),Object.defineProperty(o,"__esModule",{value:!0}),o.LangType=void 0;var n,i=t("../common/const/EventName"),r=t("../common/util/Events"),a=t("./config/En"),c=t("./config/Zh");(function(t){t.NONE="",t.ZH="zh",t.EN="en"})(n=o.LangType||(o.LangType={}));var s=function(){function t(){}return Object.defineProperty(t,"curLang",{get:function(){return this._curLang},enumerable:!1,configurable:!0}),t.init=function(t){if(void 0===t&&(t=n.NONE),!this._init){this._init=!0;var e=t||cc.sys.language;this.switch(e)}},t.switch=function(t){if(this._curLang!==t){switch(this._curLang=t,t){case n.ZH:this._phrases=c.default;break;case n.EN:this._phrases=a.default;break;default:this._curLang=n.EN,this._phrases=a.default}this.updateLocalizedCmpt()}},t.updateLocalizedCmpt=function(){r.default.emit(i.EventName.UPDATE_LOCALIZED_CMPT)},t.getKeyByValue=function(t){if(!this._phrases)return cc.error("[I18n.getKeyByValue] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";for(var e in this._phrases)if(this._phrases[e]===t)return e;return""},t.getText=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(!this._phrases)return cc.error("[I18n.getText] \u672a\u6b63\u786e\u521d\u59cb\u5316"),"";if(!t)return"";var n=this._phrases.hasOwnProperty(t)?this._phrases[t]:t;if(1===e.length&&"[object Object]"===Object.prototype.toString.call(e[0])){for(var i in e[0])if(e[0].hasOwnProperty(i)){var r=new RegExp("%{"+i+"}","g");n=n.replace(r,""+e[0][i])}}else e.forEach(function(t){n=n.replace(/%\{.*?\}/,""+t)});return n},t._init=!1,t._phrases=null,t._curLang=n.NONE,t}();o.default=s,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./config/En":"En","./config/Zh":"Zh"}],JellyTweenCases:[function(t,e,o){"use strict";cc._RF.push(e,"87f0cE8LXhHO4eieOzehqbb","JellyTweenCases");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frequency=4,e.decay=2,e.totalTime=1,e.pressScale=.2,e.scaleTween=null,e.sitTween=null,e.fallTween=null,e.originalScale=0,e.originalPos=cc.Vec2.ZERO,e}return i(e,t),e.prototype.stopAllTween=function(){this.scaleTween&&(this.scaleTween.stop(),this.scaleTween=null),this.sitTween&&(this.sitTween.stop(),this.sitTween=null),this.fallTween&&(this.fallTween.stop(),this.fallTween=null)},e.prototype.scaleTweenServer=function(){var t=this;this.scaleTween&&(this.scaleTween.stop(),this.scaleTween=null),this.originalScale=this.node.scale;var e=.2*this.totalTime,o=.15*this.totalTime,n=.65*this.totalTime,i=this.pressScale/o;this.scaleTween=cc.tween(this.node).repeat(1,cc.tween().to(e,{scaleX:this.originalScale+this.pressScale,scaleY:this.originalScale-this.pressScale},{easing:"sineOut"}).to(o,{scaleX:this.originalScale,scaleY:this.originalScale}).to(n,{scaleX:{value:this.originalScale,progress:function(e,o,n,r){return o-t.getDifference(i,r)}},scaleY:{value:this.originalScale,progress:function(e,o,n,r){return o+t.getDifference(i,r)}}})).start()},e.prototype.getDifference=function(t,e){var o=this.frequency*Math.PI*2;return t*(Math.sin(e*o)/Math.exp(this.decay*e)/o)},e.prototype.sitTweenServer=function(t){var e=this;this.sitTween&&(this.sitTween.stop(),this.sitTween=null),this.originalPos=this.node.getPosition(),this.sitTween=cc.tween(this.node).repeat(1,cc.tween().to(this.totalTime,{position:{value:t,progress:function(t,o,n,i){return t.add(e.getSitPos(o,i))}}})).start()},e.prototype.getSitPos=function(t,e){var o=this.frequency*Math.PI*2;return cc.Vec2.ZERO.lerp(t.mul(10),Math.sin(e*o)/Math.exp(this.decay*e)/o)},e.prototype.jellyFall=function(t){var e=this;this.fallTween&&(this.fallTween.stop(),this.fallTween=null),this.originalPos=this.node.getPosition(),this.sitTween=cc.tween(this.node).repeat(1,cc.tween().to(.15*this.totalTime,{position:cc.v2(0,0)},{easing:"quartOut"}).to(.85*this.totalTime,{position:{value:t,progress:function(t,o,n,i){return t.add(e.getSinglePos(o,i).mul(e.quartOut(i)))}}})).start()},e.prototype.getSinglePos=function(t,e){var o=this.frequency*Math.PI;return cc.Vec2.ZERO.lerp(t.mul(10),Math.abs(Math.sin(e*o)/Math.exp(this.decay*e)/o))},e.prototype.quartOut=function(t){return 1- --t*t*t*t},r([s({tooltip:!1})],e.prototype,"frequency",void 0),r([s({tooltip:!1})],e.prototype,"decay",void 0),r([s({tooltip:!1})],e.prototype,"totalTime",void 0),r([s({tooltip:!1})],e.prototype,"pressScale",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],JellyTween:[function(t,e,o){"use strict";cc._RF.push(e,"996c6jTpEtB27vpgjzORQJC","JellyTween");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frequency=4,e.decay=2,e.pressScale=.2,e.totalTime=1,e.interval=1,e.playOnLoad=!1,e.originalScale=1,e.tween=null,e}return i(e,t),e.prototype.start=function(){this.originalScale=this.node.scale,this.playOnLoad&&this.play()},e.prototype.play=function(t){var e=this,o=null!=t&&t>0?t:1e9,n=.2*this.totalTime,i=.15*this.totalTime,r=.65*this.totalTime,a=this.pressScale/i;this.tween=cc.tween(this.node).repeat(o,cc.tween().to(n,{scaleX:this.originalScale+this.pressScale,scaleY:this.originalScale-this.pressScale},{easing:"sineOut"}).to(i,{scaleX:this.originalScale,scaleY:this.originalScale}).to(r,{scaleX:{value:this.originalScale,progress:function(t,o,n,i){return o-e.getDifference(a,i)}},scaleY:{value:this.originalScale,progress:function(t,o,n,i){return o+e.getDifference(a,i)}}}).delay(this.interval)).start()},e.prototype.stop=function(){this.tween&&this.tween.stop(),this.node.setScale(this.originalScale)},e.prototype.getDifference=function(t,e){var o=this.frequency*Math.PI*2;return t*(Math.sin(e*o)/Math.exp(this.decay*e)/o)},r([s({tooltip:!1})],e.prototype,"frequency",void 0),r([s({tooltip:!1})],e.prototype,"decay",void 0),r([s({tooltip:!1})],e.prototype,"pressScale",void 0),r([s({tooltip:!1})],e.prototype,"totalTime",void 0),r([s({tooltip:!1})],e.prototype,"interval",void 0),r([s({tooltip:!1})],e.prototype,"playOnLoad",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Layer:[function(t,e,o){"use strict";cc._RF.push(e,"a6e48AvPltFQqwiI4zAsMqx","Layer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../../../LyShowCase/dialog/DlgGuide/DlgGuide"),u=t("../../../LyShowCase/dialog/DlgLyTip"),p=t("../../const/Url"),h=t("../../util/Res"),f=t("../../util/Tool"),d=t("./DialogBase"),y=t("./Tip"),_=cc._decorator,g=_.ccclass,m=_.property,v=_.disallowMultiple,b=_.menu,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainLayer=null,e.dialogLayer=null,e.loadingLayer=null,e.guideLayer=null,e.lyTipLayer=null,e.tipLayer=null,e._loadingCount=0,e._tipPool=[],e._tipTexts=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.inst=this,this.hideLoading()},e.prototype.onDestroy=function(){o.inst=null},e.prototype.getNameByUrl=function(t){return t.substring(t.lastIndexOf("/")+1,t.length)},e.prototype.enterHome=function(){return a(this,void 0,Promise,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return this.showLoading(),[4,h.default.load(p.ResUrl.PREFAB.HOME,cc.Prefab)];case 1:return t=o.sent(),this.hideLoading(),t?(this.mainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=h.default.instantiate(t)).setPosition(0,0),this.mainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterHome] can not find home prefab: "+p.ResUrl.PREFAB.HOME),[2])}})})},e.prototype.enterGame=function(){return a(this,void 0,Promise,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return this.showLoading(),[4,h.default.load(p.ResUrl.PREFAB.GAME,cc.Prefab)];case 1:return t=o.sent(),this.hideLoading(),t?(this.mainLayer.destroyAllChildren(),this.closeDialogs(),this.clearTips(),(e=h.default.instantiate(t)).setPosition(0,0),this.mainLayer.addChild(e),[2,e]):(cc.error("[Layer.enterGame] can not find game prefab: "+p.ResUrl.PREFAB.GAME),[2])}})})},e.prototype.getDialog=function(t){for(var e=0;e<this.dialogLayer.childrenCount;e++){var o=this.dialogLayer.children[e].getComponent(d.default);if(o&&o.prefabUrl===t)return o}return null},e.prototype.openDialog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=h.default.get(p.DirUrl.PREFAB_DIALOG+t,cc.Prefab);if(n){var i=h.default.instantiate(n);this.dialogLayer.addChild(i),i.setPosition(0,0);var r=i.getComponent(d.default);r&&(r._prefabUrl=t,r.playOpen(),r.open.apply(r,e))}else cc.error("[Layer.openDialog] can not find dialog prefab: "+(p.DirUrl.PREFAB_DIALOG+t))},e.prototype.openUniDialog=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.getDialog(t)||this.openDialog.apply(this,s([t],e))},e.prototype.openDialogAsync=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return a(this,void 0,Promise,function(){var o,n,i;return c(this,function(r){switch(r.label){case 0:return this.showLoading(),[4,h.default.load(p.DirUrl.PREFAB_DIALOG+t,cc.Prefab)];case 1:return o=r.sent(),this.hideLoading(),o?(n=h.default.instantiate(o),this.dialogLayer.addChild(n),n.setPosition(0,0),(i=n.getComponent(d.default))&&(i._prefabUrl=t,i.playOpen(),i.open.apply(i,e)),[2]):(cc.error("[Layer.openDialogAsync] can not find dialog prefab: "+(p.DirUrl.PREFAB_DIALOG+t)),[2])}})})},e.prototype.openUniDialogAsync=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return a(this,void 0,Promise,function(){return c(this,function(o){switch(o.label){case 0:return this.getDialog(t)?[2]:[4,this.openDialogAsync.apply(this,s([t],e))];case 1:return o.sent(),[2]}})})},e.prototype.closeDialog=function(t,e){void 0===e&&(e=!1);var o=this.getDialog(t);o&&(e?o.playClose():o.close())},e.prototype.closeDialogs=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);for(var o=this.dialogLayer.childrenCount-1;o>=0;o--){var n=this.dialogLayer.children[o].getComponent(d.default);n&&(t&&n.prefabUrl!==t||(e?n.playClose():n.close()))}},e.prototype.waitCloseDialog=function(t){return a(this,void 0,Promise,function(){var e;return c(this,function(o){switch(o.label){case 0:return(e=this.getDialog(t))?[4,new Promise(function(t){e.addResolve(t)})]:[2];case 1:return[2,o.sent()]}})})},e.prototype.waitCloseDialogs=function(t){return a(this,void 0,Promise,function(){var e,o,n,i;return c(this,function(r){switch(r.label){case 0:for(e=[],o=function(o){var i=n.dialogLayer.children[o].getComponent(d.default);if(!i)return"continue";i.prefabUrl===t&&e.push(new Promise(function(t){i.addResolve(t)}))},n=this,i=0;i<this.dialogLayer.childrenCount;i++)o(i);return[4,Promise.all(e)];case 1:return[2,r.sent()]}})})},e.prototype.showTip=function(t){var e;return a(this,void 0,Promise,function(){var o,n,i,r,a,s,l,u=this;return c(this,function(c){switch(c.label){case 0:return o=null,(o="string"==typeof t?{text:t}:t).hasOwnProperty("unique")||(o.unique=!1),o.hasOwnProperty("duration")||(o.duration=1),o.hasOwnProperty("fade")||(o.fade=.5),o.hasOwnProperty("start")||(o.start=cc.v2(0,0)),o.hasOwnProperty("end")||(o.end=cc.v2(0,0)),o.unique&&f.default.arrayHas(this._tipTexts,o.text)?[2]:(this._tipTexts.push(o.text),n=null,this._tipPool.length>0?(n=this._tipPool.shift(),[3,3]):[3,1]);case 1:return[4,h.default.load(p.ResUrl.PREFAB.TIP,cc.Prefab)];case 2:if(!(i=c.sent()))return cc.error("[Layer.showTip] can not load prefab: "+p.ResUrl.PREFAB.TIP),[2];n=h.default.instantiate(i),this.tipLayer.addChild(n),c.label=3;case 3:return r=cc.delayTime(o.duration),a=cc.fadeOut(o.fade),s=cc.moveTo(o.fade,o.end),l=cc.callFunc(function(){n.active=!1,u._tipPool.push(n),f.default.arrayDelete(u._tipTexts,o.text)}),n.active=!0,n.opacity=255,n.setPosition(o.start),n.setSiblingIndex(this.tipLayer.childrenCount-1),n.runAction(cc.sequence(r,cc.spawn(a,s),l)),null===(e=n.getComponent(y.default))||void 0===e||e.init(o.text),[2]}})})},e.prototype.clearTips=function(){this._tipPool.length=0,this._tipTexts.length=0,this.tipLayer.destroyAllChildren()},e.prototype.showLoading=function(){if(this._loadingCount++,!this.loadingLayer.active){this.loadingLayer.active=!0;var t=this.loadingLayer.getChildByName("content");t&&(t.active=!1,this.unscheduleAllCallbacks(),f.default.waitCmpt(this,.5).then(function(){t.active=!0}))}},e.prototype.hideLoading=function(){this._loadingCount--,this._loadingCount<=0&&(this._loadingCount=0,this.loadingLayer.active=!1,this.unscheduleAllCallbacks())},e.prototype.showLyTip=function(t){return a(this,void 0,Promise,function(){var e,o;return c(this,function(n){switch(n.label){case 0:return this.lyTipLayer.children.length?(e=this.lyTipLayer.children[0].getComponent(u.default),[3,3]):[3,1];case 1:return[4,h.default.load("prefab/dialog/LyDialog/DlgLyTip",cc.Prefab)];case 2:o=n.sent(),h.default.instantiate(o).parent=this.lyTipLayer,e=this.lyTipLayer.children[0].getComponent(u.default),n.label=3;case 3:return e.node.active=!0,e.init(t),[2]}})})},e.prototype.closeLyTip=function(){this.lyTipLayer.children.length&&(this.lyTipLayer.children[0].active=!1)},e.prototype.getGuide=function(){return a(this,void 0,void 0,function(){var t,e;return c(this,function(o){switch(o.label){case 0:return this.guideLayer.children.length?(t=this.guideLayer.children[0].getComponent(l.default),[3,3]):[3,1];case 1:return[4,h.default.load("prefab/dialog/LyDialog/DlgGuide",cc.Prefab)];case 2:e=o.sent(),h.default.instantiate(e).parent=this.guideLayer,t=this.guideLayer.children[0].getComponent(l.default),o.label=3;case 3:return t.init(),[2,t]}})})},e.prototype.closeGuide=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.guideLayer.children.length?[4,this.getGuide()]:[3,2];case 1:return t.sent().close(),this.guideLayer.children[0].active=!1,[3,3];case 2:case 3:return[2]}})})},e.inst=null,r([m(cc.Node)],e.prototype,"mainLayer",void 0),r([m(cc.Node)],e.prototype,"dialogLayer",void 0),r([m(cc.Node)],e.prototype,"loadingLayer",void 0),r([m(cc.Node)],e.prototype,"guideLayer",void 0),r([m(cc.Node)],e.prototype,"lyTipLayer",void 0),r([m(cc.Node)],e.prototype,"tipLayer",void 0),o=r([g,v,b("Framework/\u57fa\u7840\u7ec4\u4ef6/Layer")],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../../../LyShowCase/dialog/DlgGuide/DlgGuide":"DlgGuide","../../../LyShowCase/dialog/DlgLyTip":"DlgLyTip","../../const/Url":"Url","../../util/Res":"Res","../../util/Tool":"Tool","./DialogBase":"DialogBase","./Tip":"Tip"}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"ca68f5rj5BCUbm7bNFCItUo","ListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/ui/VirtualItem"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab=null,e}return i(e,t),e.prototype.onRefresh=function(t){this.lab.string="idx: "+this.dataIdx,cc.log("[ListItem.onRefresh] idx: "+this.dataIdx+", args.num: "+t.num)},e.prototype.onRefreshOthers=function(){},r([l(cc.Label)],e.prototype,"lab",void 0),r([s],e)}(a.default);o.default=u,cc._RF.pop()},{"../../common/cmpt/ui/VirtualItem":"VirtualItem"}],LocalizedLabel:[function(t,e,o){"use strict";cc._RF.push(e,"102e7zRjoBIIaR3Sun9XFVJ","LocalizedLabel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../common/const/EventName"),s=t("../common/util/Events"),l=t("./I18n"),u=cc._decorator,p=u.ccclass,h=u.property,f=u.executeInEditMode,d=u.menu,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textKey="",e._option=[],e._label=null,e}return i(e,t),Object.defineProperty(e.prototype,"textKey",{get:function(){return this._textKey},set:function(t){this._textKey=t,this.updateLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.node.getComponent(cc.Label)||this.node.getComponent(cc.RichText),this._label)?this._label:(cc.error("Failed to update localized label, label component is invalid!"),null)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{l.default.init(),this.updateLabel()}catch(t){cc.error(t)}},e.prototype.update=function(){},e.prototype.updateLabel=function(){var t=this._option instanceof Array?l.default.getText.apply(l.default,a([this._textKey],this._option)):l.default.getText(this._textKey,this._option);t&&(this.label.string=t)},e.prototype.setTextKeyAndOption=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._textKey=t,this.setOption.apply(this,e)},e.prototype.setOption=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];1===t.length&&"[object Object]"===Object.prototype.toString.call(t[0])?this._option=t[0]:this._option=t,this.updateLabel()},e.prototype.clear=function(){this.label.string="",this.textKey=""},r([h(cc.String)],e.prototype,"_textKey",void 0),r([h({type:cc.String,tooltip:"i18n key"})],e.prototype,"textKey",null),r([s.preloadEvent(c.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateLabel",null),r([p,s.eventsOnLoad(),f,d("Framework/I18N/LocalizedLabel")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../common/const/EventName":"EventName","../common/util/Events":"Events","./I18n":"I18n"}],LocalizedSprite:[function(t,e,o){"use strict";cc._RF.push(e,"80273mEm6FKI6l1JI2ok2rH","LocalizedSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/cmpt/ui/ResSprite"),c=t("../common/const/EventName"),s=t("../common/util/Events"),l=t("./I18n"),u=cc._decorator,p=u.ccclass,h=u.menu,f=u.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._sprite=null,e._imageKey="",e}return i(e,t),Object.defineProperty(e.prototype,"imageKey",{get:function(){return this._imageKey},set:function(t){this._imageKey!==t&&(this._imageKey=t,this.updateSprite())},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){try{l.default.init(),this._sprite=this.getComponent(a.default),this._sprite.spriteFrame&&(this.imageKey=this._sprite.spriteFrame.name)}catch(t){cc.error(t)}},e.prototype.updateSprite=function(){if(this.imageKey){var t="";switch(l.default.curLang){case l.LangType.ZH:t="textures/localizedImage/zh/";break;case l.LangType.EN:t="textures/localizedImage/en/";break;default:return}t+=this.imageKey,this._sprite.setSpriteFrame(t)}},r([s.preloadEvent(c.EventName.UPDATE_LOCALIZED_CMPT)],e.prototype,"updateSprite",null),r([p,s.eventsOnLoad(),f(a.default),h("Framework/I18N/LocalizedSprite")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../common/cmpt/ui/ResSprite":"ResSprite","../common/const/EventName":"EventName","../common/util/Events":"Events","./I18n":"I18n"}],Locator:[function(t,e,o){"use strict";cc._RF.push(e,"fd615WupuNABJD4kmUwXeL6","Locator"),Object.defineProperty(o,"__esModule",{value:!0}),o.Locator=void 0,function(t){t.parse=function(t){return cc.warn(t,"locator strng is null"),t.split(/[.,//,>,#]/g).map(function(e){var o=t.indexOf(e);return{symbol:t[o-1]||">",name:e.trim()}})},t.seekNodeByName=function(t,e){if(!t)return null;if(t.getName()==e)return t;for(var o=t.getChildren(),n=o.length,i=0;i<n;i++){var r=o[i],a=this.seekNodeByName(r,e);if(null!=a)return a}return null},t.locateNode=function(e,o,n){this.locating||(this.startTime=Date.now(),this.locating=!0);var i=this.parse(o);cc.warn(i&&i.length);for(var r,a=e,c=0;c<i.length;c++){var s=i[c];switch(s.symbol){case"/":r=a.getChildByName(s.name);break;case".":r=a[s.name];break;case">":r=this.seekNodeByName(a,s.name);break;case"#":r=this.seekNodeByTag(a,s.name)}if(!r){a=null;break}a=r}return a&&a.active&&n?(this.locating=!1,n(null,a)):n&&(Date.now()-this.startTime>this.timeout?n({error:"timeout",locator:o}):setTimeout(function(){t.locateNode(e,o,n)},10)),a},t.getNodeFullPath=function(t){var e=[],o=t;do{e.unshift(o.name),o=o.parent}while(o&&"Canvas"!==o.name);return e.join("/")}}(o.Locator||(o.Locator={})),cc._RF.pop()},{}],LyShowCase:[function(t,e,o){"use strict";cc._RF.push(e,"bbd9duAmMhFcYbjsOv8Liw1","LyShowCase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LyTipPre:[function(t,e,o){"use strict";cc._RF.push(e,"15205zxCtBCJrj58+daGWxY","LyTipPre");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrow=null,e.tipLab=null,e.tipNode=null,e.isRight=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(t,e){var o,n,i;t&&(o=1,n=30,i=-40),o=0,n=30,i=40,this.arrow.angle=n,this.arrow.x=i,this.node.anchorX=o,this.tipLab.string=""+e,this.arrow.active=!0,this.tipNode.active=!1},e.prototype.btnServer=function(){this.arrow.active=!1,this.tipNode.active=!0},e.prototype.tipNodeClickServer=function(){this.arrow.active=!0,this.tipNode.active=!1},r([s({type:cc.Node,tooltip:"\u7bad\u5934\u6309\u94ae"})],e.prototype,"arrow",void 0),r([s({type:cc.Label,tooltip:"\u63d0\u793alabel"})],e.prototype,"tipLab",void 0),r([s({type:cc.Node,tooltip:"\u63d0\u793a\u8282\u70b9"})],e.prototype,"tipNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LyTools:[function(t,e,o){"use strict";cc._RF.push(e,"34dc25G7IlPB40RqFmdAfue","LyTools"),Object.defineProperty(o,"__esModule",{value:!0}),o.LyTools=void 0,function(t){t.getMoveTime=function(t,e,o){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/o},t.getRandomPos=function(e,o){var n=(o.y-e.y)/(o.x-e.x),i=o.y-n*o.x,r=t.randomNum(e.x,o.x),a=n*r+i;return cc.v2(r,a)},t.randomNum=function(t,e){switch(arguments.length){case 1:return parseInt((Math.random()*t+1).toString(),10);case 2:return parseInt((Math.random()*(e-t+1)+t).toString(),10);default:return 0}},t.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},t.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},t.dispatchEventServer=function(t,e,o){var n=new cc.Event.EventCustom(""+t,!0);n.detail=e,o.dispatchEvent(n)},t.prefixInteger=function(t,e){return String(t).length>e?t:(Array(e).join("0")+t).slice(-e)},t.secTostr=function(t){var e=parseInt((t/60).toString()),o=t%60;return this.prefixInteger(e,2)+":"+this.prefixInteger(o,2)},t.playSpine=function(t,e,o,n){var i=this,r=t;r.setAnimation(0,e,o)&&r.setCompleteListener(function(t){(t.animation?t.animation.name:"")===e&&n&&(i.canClick=!0,n())})},t.hideNode=function(t,e){cc.tween(t).to(e||.5,{opacity:0}).call(function(){t.active=!1}).start()},t.showItem=function(t){t.active=!0,t.opacity=255},t.gradientItem=function(t,e){t.active=!0,cc.tween(t).to(e||1,{opacity:255}).start()},t.spineMix=function(t,e){for(var o=0;o<e.length;o++)t.setMix(e[o].name1,e[o].name2,e[o].mixtime)},t.createTexture=function(t){var e=new cc.Texture2D;return e.initWithData(new Uint8Array([t.r,t.g,t.b,t.a]),cc.Texture2D.PixelFormat.RGB888,1,1),e},t.createSpriteFrame=function(t,e){var o=this.createTexture(t),n=new cc.SpriteFrame;return n.setTexture(o),n.setRect(cc.rect(e.x,e.y,e.z,e.w)),n},t.createPureColorNode=function(t,e,o){var n=new cc.Node(""+t);return n.addComponent(cc.Sprite).spriteFrame=this.createSpriteFrame(e,new cc.Vec4(0,0,o.x,o.y)),n}}(o.LyTools||(o.LyTools={})),cc._RF.pop()},{}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"eef8c5qJslOQ71iswi/FuxY","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../common/cmpt/base/Layer"),c=t("../../common/util/DataCtr"),s=t("../../common/util/Res"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dcLab=null,e}return i(e,t),e.prototype.start=function(){a.default.inst.enterHome(),c.DataCtr.init(),this.schedule(function(){s.default.releaseAll()},60)},e.prototype.lateUpdate=function(){this.dcLab.string="DrawCall: "+cc.renderer.drawCalls},r([p(cc.Label)],e.prototype,"dcLab",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../common/cmpt/base/Layer":"Layer","../../common/util/DataCtr":"DataCtr","../../common/util/Res":"Res"}],MoreOrderBezier:[function(t,e,o){"use strict";cc._RF.push(e,"521c2szmehOMLzM6k8UXhsZ","MoreOrderBezier");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFixedStartPoint=!1,e.startNode=null,e}return i(e,t),e.prototype.start=function(){},r([s({tooltip:"\u662f\u5426\u6307\u5b9a\u56fa\u5b9a\u521d\u59cb\u8282\u70b9"})],e.prototype,"isFixedStartPoint",void 0),r([s({type:cc.Node,visible:function(){return this.isFixedStartPoint}})],e.prototype,"startNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],MoveBall:[function(t,e,o){"use strict";cc._RF.push(e,"81d40wig5VHCLS4HmfLxcHH","MoveBall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveTime=.5,e.ballTween=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.tweenMove=function(t,e){return a(this,void 0,void 0,function(){var o,n,i=this;return c(this,function(r){switch(r.label){case 0:if(!t.length)return[2];this.node.active=!0,this.node.setPosition(e),this.node.zIndex=999,o=function(e){var o,n;return c(this,function(r){switch(r.label){case 0:for(o=[],n=0;n<t[e].length;n++)o.push(t[e][n].getPosition());return[4,new Promise(function(n){i.ballTween=cc.tween(i.node).bezierTo(i.moveTime,o[0],o[1],o[2]).call(function(){e==t.length-1&&(i.node.active=!1),n(null)}).start()})];case 1:return r.sent(),[2]}})},n=0,r.label=1;case 1:return n<t.length?[5,o(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},r([u(cc.Float)],e.prototype,"moveTime",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],MultiAssemblerBarFilled:[function(t,e,o){"use strict";cc._RF.push(e,"0d306+qdllOJo+T76peVXVI","MultiAssemblerBarFilled");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateRenderData=function(t){var e=t._spriteFrame;if(this.packToDynamicAtlas(t,e),t._vertsDirty){var o=t._fillStart,n=t._fillRange;n<0&&(o+=n,n=-n),n=(n=(n=o+n)>1?1:n)<0?0:n;var i=(o=(o=o>1?1:o)<0?0:o)+(n=(n-=o)<0?0:n);i=i>1?1:i,this.updateUVs(t,o,i),this.updateVerts(t,o,i),this.updateTextureIdx(t),t._vertsDirty=!1}},e.prototype.updateUVs=function(t,e,o){var n,i,r,a,c,s,l,u,p,h,f=t._spriteFrame,d=f._texture.width,y=f._texture.height,_=f._rect;f._rotated?(n=_.x/d,i=(_.y+_.width)/y,r=c=n,l=p=(_.x+_.height)/d,s=h=i,a=u=_.y/y):(n=_.x/d,i=(_.y+_.height)/y,r=l=n,c=p=(_.x+_.width)/d,a=s=i,u=h=_.y/y);var g=this._renderData.vDatas[0],m=this.uvOffset,v=this.floatsPerVert;switch(t._fillType){case cc.Sprite.FillType.HORIZONTAL:g[m]=r+(c-r)*e,g[m+1]=a+(s-a)*e,g[m+v]=r+(c-r)*o,g[m+v+1]=a+(s-a)*o,g[m+2*v]=l+(p-l)*e,g[m+2*v+1]=u+(h-u)*e,g[m+3*v]=l+(p-l)*o,g[m+3*v+1]=u+(h-u)*o;break;case cc.Sprite.FillType.VERTICAL:g[m]=r+(l-r)*e,g[m+1]=a+(u-a)*e,g[m+v]=c+(p-c)*e,g[m+v+1]=s+(h-s)*e,g[m+2*v]=r+(l-r)*o,g[m+2*v+1]=a+(u-a)*o,g[m+3*v]=c+(p-c)*o,g[m+3*v+1]=s+(h-s)*o;break;default:cc.errorID(2626)}},e.prototype.updateVerts=function(t,e,o){var n,i=t.node,r=i.width,a=i.height,c=i.anchorX*r,s=i.anchorY*a,l=-c,u=-s,p=r-c,h=a-s;switch(t._fillType){case cc.Sprite.FillType.HORIZONTAL:n=l+(p-l)*o,l+=(p-l)*e,p=n;break;case cc.Sprite.FillType.VERTICAL:n=u+(h-u)*o,u+=(h-u)*e,h=n;break;default:cc.errorID(2626)}var f=this._local;f[0]=l,f[1]=u,f[2]=p,f[3]=h,this.updateWorldVerts(t)},e}(t("./MultiAssembler").default);o.default=r,cc._RF.pop()},{"./MultiAssembler":"MultiAssembler"}],MultiAssemblerRadialFilled:[function(t,e,o){"use strict";cc._RF.push(e,"37463cgERBLhI8K7rCWzz1m","MultiAssemblerRadialFilled");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./MultiAssembler"),a=2*Math.PI,c=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],s=[0,0,0,0],l=[0,0,0,0,0,0,0,0],u=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],p=[cc.v2(0,0),cc.v2(0,0),cc.v2(0,0),cc.v2(0,0)],h=cc.v2(0,0),f=[];function d(t,e,o,n,i,r,a){var c,s,l=Math.sin(r),u=Math.cos(r);if(0!==Math.cos(r)){if(c=l/u,(t-i.x)*u>0){var p=i.y+c*(t-i.x);a[0].x=t,a[0].y=p}if((e-i.x)*u>0){var h=i.y+c*(e-i.x);a[2].x=e,a[2].y=h}}if(0!==Math.sin(r)){if(s=u/l,(n-i.y)*l>0){var f=i.x+s*(n-i.y);a[3].x=f,a[3].y=n}if((o-i.y)*l>0){var d=i.x+s*(o-i.y);a[1].x=d,a[1].y=o}}}function y(t){var e=t.node,o=e.width,n=e.height,i=e.anchorX*o,r=e.anchorY*n,a=-i,l=-r,u=o-i,p=n-r,d=s;d[0]=a,d[1]=l,d[2]=u,d[3]=p;var y=t._fillCenter,_=h.x=Math.min(Math.max(0,y.x),1)*(u-a)+a,g=h.y=Math.min(Math.max(0,y.y),1)*(p-l)+l;c[0].x=c[3].x=a,c[1].x=c[2].x=u,c[0].y=c[1].y=l,c[2].y=c[3].y=p,f.length=0,_!==d[0]&&(f[0]=[3,0]),_!==d[2]&&(f[2]=[1,2]),g!==d[1]&&(f[1]=[0,1]),g!==d[3]&&(f[3]=[2,3])}function _(t,e){var o,n;if(o=e.x-t.x,n=e.y-t.y,0!==o||0!==n){if(0===o)return n>0?.5*Math.PI:1.5*Math.PI;var i=Math.atan(n/o);return o<0&&(i+=Math.PI),i}}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initData=function(){this._renderData.createFlexData(0,4,6,this.getVfmt()),this.updateIndices()},e.prototype.updateRenderData=function(t){var e,o,n,i,r,c,f,_,g,m=t.spriteFrame;if(this.packToDynamicAtlas(t,m),t._vertsDirty){var v=t._fillStart,b=t._fillRange;for(b<0&&(v+=b,b=-b);v>=1;)v-=1;for(;v<0;)v+=1;v*=a,b*=a,y(t),c=(e=m)._texture.width,f=e._texture.height,_=e._rect,g=l,e._rotated?(o=_.x/c,n=(_.x+_.height)/c,i=_.y/f,r=(_.y+_.width)/f,g[0]=g[2]=o,g[4]=g[6]=n,g[3]=g[7]=r,g[1]=g[5]=i):(o=_.x/c,n=(_.x+_.width)/c,i=_.y/f,r=(_.y+_.height)/f,g[0]=g[4]=o,g[2]=g[6]=n,g[1]=g[3]=r,g[5]=g[7]=i),d(s[0],s[2],s[1],s[3],h,v,u),d(s[0],s[2],s[1],s[3],h,v+b,p),this.updateVerts(t,v,b),this.updateTextureIdx(t),t._vertsDirty=!1}},e.prototype.updateVerts=function(t,e,o){var n=e+o,i=this._local;i.length=0;for(var r=0,s=3*this.floatsPerVert,l=0;l<4;++l){var d=f[l];if(d)if(o>=a)i.length=r+s,this._generateTriangle(i,r,h,c[d[0]],c[d[1]]),r+=s;else{var y=_(h,c[d[0]]),g=_(h,c[d[1]]);g<y&&(g+=a),y-=a,g-=a;for(var m=0;m<3;++m)y>=n||(y>=e?(i.length=r+s,g>=n?this._generateTriangle(i,r,h,c[d[0]],p[l]):this._generateTriangle(i,r,h,c[d[0]],c[d[1]]),r+=s):g<=e||(g<=n?(i.length=r+s,this._generateTriangle(i,r,h,u[l],c[d[1]]),r+=s):(i.length=r+s,this._generateTriangle(i,r,h,u[l],p[l]),r+=s))),y+=a,g+=a}}this.allocWorldVerts(t),this.updateWorldVerts(t)},e.prototype.allocWorldVerts=function(t){var e=t.node._color._val,o=this._renderData,n=this.floatsPerVert,i=this._local,r=i.length/n;this.verticesCount=this.indicesCount=r;var a=o._flexBuffer;a.reserve(r,r)&&this.updateIndices(),a.used(this.verticesCount,this.indicesCount);for(var c=o.vDatas[0],s=o.uintVDatas[0],l=this.uvOffset,u=0;u<i.length;u+=n){var p=u+l;c[p]=i[p],c[p+1]=i[p+1],s[p+2]=e}},e.prototype.updateIndices=function(){for(var t=this._renderData.iDatas[0],e=0;e<t.length;e++)t[e]=e},e.prototype.updateWorldVerts=function(t){for(var e=t.node._worldMatrix.m,o=e[0],n=e[1],i=e[4],r=e[5],a=e[12],c=e[13],s=this._local,l=this._renderData.vDatas[0],u=this.floatsPerVert,p=0;p<s.length;p+=u){var h=s[p],f=s[p+1];l[p]=h*o+f*i+a,l[p+1]=h*n+f*r+c}},e.prototype._generateTriangle=function(t,e,o,n,i){var r=s,a=r[0],c=r[1],l=r[2],u=r[3],p=this.floatsPerVert;t[e]=o.x,t[e+1]=o.y,t[e+p]=n.x,t[e+p+1]=n.y,t[e+2*p]=i.x,t[e+2*p+1]=i.y;var h,f,d=this.uvOffset;h=(o.x-a)/(l-a),f=(o.y-c)/(u-c),this._generateUV(h,f,t,e+d),h=(n.x-a)/(l-a),f=(n.y-c)/(u-c),this._generateUV(h,f,t,e+p+d),h=(i.x-a)/(l-a),f=(i.y-c)/(u-c),this._generateUV(h,f,t,e+2*p+d)},e.prototype._generateUV=function(t,e,o,n){var i=l[0]+(l[2]-l[0])*t,r=l[4]+(l[6]-l[4])*t,a=l[1]+(l[3]-l[1])*t,c=l[5]+(l[7]-l[5])*t;o[n]=i+(r-i)*e,o[n+1]=a+(c-a)*e},e}(r.default);o.default=g,cc._RF.pop()},{"./MultiAssembler":"MultiAssembler"}],MultiAssemblerSimple:[function(t,e,o){"use strict";cc._RF.push(e,"aa9e0lVvBJP9I4EFlhtYCJc","MultiAssemblerSimple");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateRenderData=function(t){this.packToDynamicAtlas(t,t._spriteFrame),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateUVs=function(t){for(var e=t._spriteFrame.uv,o=this.uvOffset,n=this.floatsPerVert,i=this._renderData.vDatas[0],r=0;r<4;r++){var a=2*r,c=n*r+o;i[c]=e[a],i[c+1]=e[a+1]}},e.prototype.updateVerts=function(t){var e,o,n,i,r=t.node,a=r.width,c=r.height,s=r.anchorX*a,l=r.anchorY*c;if(t.trim)e=-s,o=-l,n=a-s,i=c-l;else{var u=t.spriteFrame,p=u._originalSize.width,h=u._originalSize.height,f=u._rect.width,d=u._rect.height,y=u._offset,_=a/p,g=c/h,m=y.x+(p-f)/2,v=y.x-(p-f)/2;e=m*_-s,o=(y.y+(h-d)/2)*g-l,n=a+v*_-s,i=c+(y.y-(h-d)/2)*g-l}var b=this._local;b[0]=e,b[1]=o,b[2]=n,b[3]=i,this.updateWorldVerts(t)},e}(t("./MultiAssembler").default);o.default=r,cc._RF.pop()},{"./MultiAssembler":"MultiAssembler"}],MultiAssemblerSliced:[function(t,e,o){"use strict";cc._RF.push(e,"0f3a2cHs8tKfqzmBuX9KEnV","MultiAssemblerSliced");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.initData=function(){if(this.verticesCount=16,this.indicesCount=54,!(this._renderData.meshCount>0)){this._renderData.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var t=this._renderData.iDatas[0],e=0,o=0;o<3;++o)for(var n=0;n<3;++n){var i=4*o+n;t[e++]=i,t[e++]=i+1,t[e++]=i+4,t[e++]=i+1,t[e++]=i+5,t[e++]=i+4}}},e.prototype.initLocal=function(){this._local=[],this._local.length=8},e.prototype.updateRenderData=function(t){var e=t._spriteFrame;this.packToDynamicAtlas(t,e),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateVerts=function(t){var e=t.node,o=e.width,n=e.height,i=e.anchorX*o,r=e.anchorY*n,a=t.spriteFrame,c=a.insetLeft,s=a.insetRight,l=a.insetTop,u=a.insetBottom,p=o-c-s,h=n-l-u,f=o/(c+s),d=n/(l+u);f=isNaN(f)||f>1?1:f,d=isNaN(d)||d>1?1:d,p=p<0?0:p,h=h<0?0:h;var y=this._local;y[0]=-i,y[1]=-r,y[2]=c*f-i,y[3]=u*d-r,y[4]=y[2]+p,y[5]=y[3]+h,y[6]=o-i,y[7]=n-r,this.updateWorldVerts(t)},e.prototype.updateUVs=function(t){for(var e=this._renderData.vDatas[0],o=t.spriteFrame.uvSliced,n=this.uvOffset,i=this.floatsPerVert,r=0;r<4;++r)for(var a=0;a<4;++a){var c=4*r+a,s=o[c],l=c*i;e[l+n]=s.u,e[l+n+1]=s.v}},e.prototype.updateWorldVerts=function(t){for(var e=t.node._worldMatrix.m,o=e[0],n=e[1],i=e[4],r=e[5],a=e[12],c=e[13],s=this._local,l=this._renderData.vDatas[0],u=this.floatsPerVert,p=0;p<4;++p)for(var h=s[2*p+1],f=0;f<4;++f){var d=s[2*f],y=(4*p+f)*u;l[y]=d*o+h*i+a,l[y+1]=d*n+h*r+c}},e}(t("./MultiAssembler").default);o.default=r,cc._RF.pop()},{"./MultiAssembler":"MultiAssembler"}],MultiAssemblerTiled:[function(t,e,o){"use strict";cc._RF.push(e,"825c0CUhQhLHIOj5ulatGUZ","MultiAssemblerTiled");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentWidth=0,e.contentHeight=0,e.rectWidth=0,e.rectHeight=0,e.hRepeat=0,e.vRepeat=0,e.row=0,e.col=0,e.sizableWidth=0,e.sizableHeight=0,e}return i(e,t),e.prototype.initData=function(){this.verticesCount=0,this.contentWidth=0,this.contentHeight=0,this.rectWidth=0,this.rectHeight=0,this.hRepeat=0,this.vRepeat=0,this.row=0,this.col=0,this._renderData.meshCount>0||(this._renderData.createFlexData(0,4,6,this.getVfmt()),this._updateIndices())},e.prototype.initLocal=function(){this._local={x:[],y:[]}},e.prototype._updateIndices=function(){for(var t=this._renderData.iDatas[0],e=0,o=0,n=t.length;e<n;e+=6,o+=4)t[e]=o,t[e+1]=o+1,t[e+2]=o+2,t[e+3]=o+1,t[e+4]=o+3,t[e+5]=o+2},e.prototype.updateRenderData=function(t){var e=t._spriteFrame;this.packToDynamicAtlas(t,e);var o=t.node,n=this.contentWidth=Math.abs(o.width),i=this.contentHeight=Math.abs(o.height),r=e._rect,a=e.insetLeft,c=e.insetRight,s=r.width-a-c,l=e.insetTop,u=e.insetBottom,p=r.height-l-u;this.sizableWidth=n-a-c,this.sizableHeight=i-l-u,this.sizableWidth=this.sizableWidth>0?this.sizableWidth:0,this.sizableHeight=this.sizableHeight>0?this.sizableHeight:0;var h=this.hRepeat=0===s?this.sizableWidth:this.sizableWidth/s,f=this.vRepeat=0===p?this.sizableHeight:this.sizableHeight/p,d=(this.row=Math.ceil(f+2))*(this.col=Math.ceil(h+2));this.verticesCount=4*d,this.indicesCount=6*d;var y=this._renderData._flexBuffer;y.reserve(this.verticesCount,this.indicesCount)&&(this._updateIndices(),this.updateColor(t)),y.used(this.verticesCount,this.indicesCount),t._vertsDirty&&(this.updateUVs(t),this.updateVerts(t),this.updateTextureIdx(t),t._vertsDirty=!1)},e.prototype.updateVerts=function(t){var e=t._spriteFrame,o=e._rect,n=t.node,i=n.anchorX*n.width,r=n.anchorY*n.height,a=this.row,c=this.col,s=this.contentWidth,l=this.contentHeight,u=this._local,p=u.x,h=u.y;p.length=h.length=0;var f,d,y=e.insetLeft,_=e.insetRight,g=o.width-y-_,m=e.insetTop,v=e.insetBottom,b=o.height-m-v,O=n.width/(y+_)>1?1:n.width/(y+_),w=n.height/(m+v)>1?1:n.height/(m+v);f=g>0?Math.floor(1e3*this.sizableWidth)/1e3%g==0?g:this.sizableWidth%g:this.sizableWidth,d=b>0?Math.floor(1e3*this.sizableHeight)/1e3%b==0?b:this.sizableHeight%b:this.sizableHeight;for(var P=0;P<=c;P++)0===P?p[P]=-i:P>0&&P<c?p[P]=1===P?y*O+Math.min(g,this.sizableWidth)-i:g>0?P===c-1?y+f+g*(P-2)-i:y+Math.min(g,this.sizableWidth)+g*(P-2)-i:y+this.sizableWidth-i:P===c&&(p[P]=Math.min(y+this.sizableWidth+_,s)-i);for(P=0;P<=a;P++)0===P?h[P]=-r:P>0&&P<a?h[P]=1===P?v*w+Math.min(b,this.sizableHeight)-r:b>0?P===a-1?v+d+(P-2)*b-r:v+Math.min(b,this.sizableHeight)+(P-2)*b-r:v+this.sizableHeight-r:P===a&&(h[P]=Math.min(v+this.sizableHeight+m,l)-r);this.updateWorldVerts(t)},e.prototype.updateWorldVerts=function(t){for(var e,o,n,i,r=this._renderData,a=this._local,c=a.x,s=a.y,l=r.vDatas[0],u=this.row,p=this.col,h=t.node._worldMatrix.m,f=h[0],d=h[1],y=h[4],_=h[5],g=h[12],m=h[13],v=this.floatsPerVert,b=0,O=0,w=u;O<w;++O){n=s[O],i=s[O+1];for(var P=0,T=p;P<T;++P)e=c[P],o=c[P+1],l[b]=e*f+n*y+g,l[b+1]=e*d+n*_+m,l[b+=v]=o*f+n*y+g,l[b+1]=o*d+n*_+m,l[b+=v]=e*f+i*y+g,l[b+1]=e*d+i*_+m,l[b+=v]=o*f+i*y+g,l[b+1]=o*d+i*_+m,b+=v}},e.prototype.updateUVs=function(t){var e=this._renderData.vDatas[0];if(e)for(var o=t._spriteFrame,n=o._rect,i=o.insetLeft,r=o.insetRight,a=n.width-i-r,c=o.insetTop,s=o.insetBottom,l=n.height-c-s,u=this.row,p=this.col,h=this.hRepeat,f=this.vRepeat,d=0,y=0,_=t.spriteFrame.uv,g=t.spriteFrame.uvSliced,m=t.spriteFrame._rotated,v=this.floatsPerVert,b=this.uvOffset,O=[],w=[],P=0,T=u;P<T;++P){y=this.sizableHeight>l?this.sizableHeight>=P*l?1:f%1:f;for(var A=0,S=p;A<S;++A)d=this.sizableWidth>a?this.sizableWidth>=A*a?1:h%1:h,m?(0===P?(O[0]=g[0].u,O[1]=g[0].u,O[2]=g[4].u+(g[8].u-g[4].u)*y):P<u-1?(O[0]=g[4].u,O[1]=g[4].u,O[2]=g[4].u+(g[8].u-g[4].u)*y):P===u-1&&(O[0]=g[8].u,O[1]=g[8].u,O[2]=g[12].u),0===A?(w[0]=g[0].v,w[1]=g[1].v+(g[2].v-g[1].v)*d,w[2]=g[0].v):A<p-1?(w[0]=g[1].v,w[1]=g[1].v+(g[2].v-g[1].v)*d,w[2]=g[1].v):A===p-1&&(w[0]=g[2].v,w[1]=g[3].v,w[2]=g[2].v),O[3]=O[2],w[3]=w[1]):(0===A?(O[0]=g[0].u,O[1]=g[1].u+(g[2].u-g[1].u)*d,O[2]=_[0]):A<p-1?(O[0]=g[1].u,O[1]=g[1].u+(g[2].u-g[1].u)*d,O[2]=g[1].u):A===p-1&&(O[0]=g[2].u,O[1]=g[3].u,O[2]=g[2].u),0===P?(w[0]=g[0].v,w[1]=g[0].v,w[2]=g[4].v+(g[8].v-g[4].v)*y):P<u-1?(w[0]=g[4].v,w[1]=g[4].v,w[2]=g[4].v+(g[8].v-g[4].v)*y):P===u-1&&(w[0]=g[8].v,w[1]=g[8].v,w[2]=g[12].v),O[3]=O[1],w[3]=w[2]),e[b]=O[0],e[b+1]=w[0],e[b+=v]=O[1],e[b+1]=w[1],e[b+=v]=O[2],e[b+1]=w[2],e[b+=v]=O[3],e[b+1]=w[3],b+=v}},e}(t("./MultiAssembler").default);o.default=r,cc._RF.pop()},{"./MultiAssembler":"MultiAssembler"}],MultiAssembler:[function(t,e,o){"use strict";cc._RF.push(e,"ac3d4pn45pPbIIUTWTJWqn4","MultiAssembler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=cc.gfx,a=new r.VertexFormat([{name:r.ATTR_POSITION,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_UV0,type:r.ATTR_TYPE_FLOAT32,num:2},{name:r.ATTR_COLOR,type:r.ATTR_TYPE_UINT8,num:4,normalize:!0},{name:"a_texture_idx",type:r.ATTR_TYPE_FLOAT32,num:1}]),c=function(t){function e(){var e=t.call(this)||this;return e.floatsPerVert=6,e.verticesCount=4,e.indicesCount=6,e.uvOffset=2,e.colorOffset=4,e.textureIdxOffset=5,e._renderData=null,e._local=[],e._renderData=new cc.RenderData,e._renderData.init(e),e.initData(),e.initLocal(),e}return i(e,t),Object.defineProperty(e.prototype,"verticesFloats",{get:function(){return this.verticesCount*this.floatsPerVert},enumerable:!1,configurable:!0}),e.prototype.initData=function(){var t=this._renderData;t.createFlexData(0,this.verticesCount,this.indicesCount,this.getVfmt());for(var e=t.iDatas[0],o=e.length/6,n=0,i=0;n<o;n++){var r=4*n;e[i++]=r,e[i++]=r+1,e[i++]=r+2,e[i++]=r+1,e[i++]=r+3,e[i++]=r+2}},e.prototype.initLocal=function(){this._local=[],this._local.length=4},e.prototype.getBuffer=function(){return cc.renderer._handle.getBuffer("mesh",this.getVfmt())},e.prototype.getVfmt=function(){return a},e.prototype.updateColor=function(t,e){var o=this._renderData.uintVDatas[0];if(o){e=null!=e?e:t.node.color._val;for(var n=this.floatsPerVert,i=this.colorOffset,r=o.length;i<r;i+=n)o[i]=e}},e.prototype.updateTextureIdx=function(t){for(var e=this._renderData.vDatas[0],o=0;o<this.verticesCount;o++)e[this.floatsPerVert*o+this.textureIdxOffset]=t.textureIdx},e.prototype.updateWorldVerts=function(t){var e=this._local,o=this._renderData.vDatas[0],n=t.node._worldMatrix.m,i=n[0],r=n[1],a=n[4],c=n[5],s=n[12],l=n[13],u=e[0],p=e[2],h=e[1],f=e[3],d=this.floatsPerVert,y=0;if(1===i&&0===r&&0===a&&1===c)o[y]=u+s,o[y+1]=h+l,o[y+=d]=p+s,o[y+1]=h+l,o[y+=d]=u+s,o[y+1]=f+l,o[y+=d]=p+s,o[y+1]=f+l;else{var _=i*u,g=i*p,m=r*u,v=r*p,b=a*h,O=a*f,w=c*h,P=c*f;o[y]=_+b+s,o[y+1]=m+w+l,o[y+=d]=g+b+s,o[y+1]=v+w+l,o[y+=d]=_+O+s,o[y+1]=m+P+l,o[y+=d]=g+O+s,o[y+1]=v+P+l}},e.prototype.fillBuffers=function(t,e){e.worldMatDirty&&this.updateWorldVerts(t);var o=this._renderData,n=o.vDatas[0],i=o.iDatas[0],r=this.getBuffer(e),a=r.request(this.verticesCount,this.indicesCount),c=a.byteOffset>>2,s=r._vData;n.length+c>s.length?s.set(n.subarray(0,s.length-c),c):s.set(n,c);for(var l=r._iData,u=a.indiceOffset,p=a.vertexOffset,h=0,f=i.length;h<f;h++)l[u++]=p+i[h]},e.prototype.packToDynamicAtlas=function(t,e){if(!e._original&&cc.dynamicAtlasManager&&e._texture.packable){var o=cc.dynamicAtlasManager.insertSpriteFrame(e);o&&e._setDynamicAtlasFrame(o)}var n=t._materials[0];n&&n.getProperty("texture")!==e._texture._texture&&(t._vertsDirty=!0,t._updateMaterial())},e}(cc.Assembler);o.default=c,cc._RF.pop()},{}],MultiSprite:[function(t,e,o){"use strict";cc._RF.push(e,"c922bwmEw5OV4VVCBcsN/cG","MultiSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../util/EditorTool"),c=t("./assembler/MultiAssemblerBarFilled"),s=t("./assembler/MultiAssemblerRadialFilled"),l=t("./assembler/MultiAssemblerSimple"),u=t("./assembler/MultiAssemblerSliced"),p=t("./assembler/MultiAssemblerTiled"),h=t("./MultiTextureManager"),f=cc._decorator,d=f.ccclass,y=(f.property,f.requireComponent,f.menu),_=f.inspector,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textureIdx=0,e}return i(e,t),Object.defineProperty(e.prototype,"textureIdx",{get:function(){return this._textureIdx},set:function(t){this._textureIdx=cc.misc.clampf(t,0,h.MultiTextureManager.MAX_TEXTURE_NUM-1),this.setVertsDirty()},enumerable:!1,configurable:!0}),e.prototype.resetInEditor=function(){var t=this;a.default.load("res/shader/materials/multiTexture.mtl").then(function(e){e&&t.setMaterial(0,e)})},e.prototype.onLoad=function(){var e;null===(e=t.prototype.onLoad)||void 0===e||e.call(this),h.MultiTextureManager.addSprite(this)},e.prototype.onDestroy=function(){var e;null===(e=t.prototype.onDestroy)||void 0===e||e.call(this),h.MultiTextureManager.removeSprite(this)},e.prototype._updateMaterial=function(){var t=this.getMaterial(0);if(t){var e=null,o=null;if(this.spriteFrame&&(o=(e=this.spriteFrame.getTexture())&&e.getImpl()),t.name.indexOf("multiTexture")>=0){h.MultiTextureManager.init(t._material);var n=h.MultiTextureManager.getIdx(e);n>=0&&(this.textureIdx=n),t.getProperty("texture"+this.textureIdx,0)!==o&&t.setProperty("texture"+this.textureIdx,e)}else t.getProperty("texture",0)!==o&&t.setProperty("texture",e)}cc.BlendFunc.prototype._updateMaterial.call(this)},r([d,y("Framework/UI\u7ec4\u4ef6/MultiSprite"),_("packages://inspector/inspectors/comps/sprite.js")],e)}(cc.Sprite);o.default=g,cc.Assembler.register(g,{getConstructor:function(t){var e=l.default;switch(t.type){case cc.Sprite.Type.SLICED:e=u.default;break;case cc.Sprite.Type.TILED:e=p.default;break;case cc.Sprite.Type.FILLED:e=t._fillType===cc.Sprite.FillType.RADIAL?s.default:c.default}return e}}),cc._RF.pop()},{"../../../util/EditorTool":"EditorTool","./MultiTextureManager":"MultiTextureManager","./assembler/MultiAssemblerBarFilled":"MultiAssemblerBarFilled","./assembler/MultiAssemblerRadialFilled":"MultiAssemblerRadialFilled","./assembler/MultiAssemblerSimple":"MultiAssemblerSimple","./assembler/MultiAssemblerSliced":"MultiAssemblerSliced","./assembler/MultiAssemblerTiled":"MultiAssemblerTiled"}],MultiTextureManager:[function(t,e,o){"use strict";cc._RF.push(e,"4fc9cgEvWxKZK0hYF2jjQq7","MultiTextureManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.MultiTextureManager=void 0;var n=function(){function t(){}return t.init=function(t){this._init||!(t instanceof cc.Material)||t instanceof cc.MaterialVariant||(this._init=!0,this._mat=t,this._mat.addRef())},t.addSprite=function(t){this._sprites.add(t)},t.removeSprite=function(t){this._sprites.delete(t)},t.setTexture=function(e,o){var n=this;if(this._init)if(o instanceof cc.Texture2D){e=cc.misc.clampf(e,0,t.MAX_TEXTURE_NUM-1);var i=this._texMap.get(e);i!==o&&(i&&i.decRef(),o.addRef(),this._texMap.set(e,o),this._mat.setProperty("texture"+e,o),this._sprites.forEach(function(e){for(var o=e.getMaterial(0),i=0;i<t.MAX_TEXTURE_NUM;i++){var r=n._texMap.get(i);if(r){var a=r.getImpl();o.getProperty("texture"+i,0)!==a&&o.setProperty("texture"+i,r)}}o._effect._dirty=!0,e._updateMaterial()}))}else cc.error("[MultiSpriteManager.setTexture] \u53c2\u6570\u7c7b\u578b\u9519\u8bef");else cc.error("[MultiSpriteManager.setTexture] \u672a\u521d\u59cb\u5316MultiSpriteManager")},t.getIdx=function(e){if(this._init){for(var o=0;o<t.MAX_TEXTURE_NUM;o++)if(this._texMap.get(o)===e||this._mat.getProperty("texture"+o,0)===e.getImpl())return o;return-1}cc.error("[MultiSpriteManager.getIdx] \u672a\u521d\u59cb\u5316MultiSpriteManager")},t.MAX_TEXTURE_NUM=8,t._init=!1,t._mat=null,t._texMap=new Map,t._sprites=new Set,t}();o.MultiTextureManager=n,cc._RF.pop()},{}],Random:[function(t,e,o){"use strict";cc._RF.push(e,"67025YgSQdGQ6vst9yFrddx","Random"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Tool"),i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],r=function(){function t(){}return t.hashCode=function(t,e){void 0===e&&(e=0);var o=e;if(!t)return o;for(var n=0;n<t.length;n++)o=(131*o+t.charCodeAt(n))%19260817;return o},t.getSeed=function(t){void 0===t&&(t=8);for(var e="",o=0;o<t;o++)e+=n.default.arrayRand(i);return e},t.random=function(t){return(9301*("string"==typeof t?this.hashCode(t):t)+49297)%233280/233280},t.int=function(t,e,o){return void 0===o&&(o=void 0),void 0===o&&(o=e,e=0),e=Math.ceil(e),o=Math.floor(o),Math.floor(this.random(t)*(o-e))+e},t.float=function(t,e,o){return void 0===o&&(o=void 0),void 0===o&&(o=e,e=0),this.random(t)*(o-e)+e},t.randWeightIdx=function(t,e){for(var o=0,n=0;n<e.length;n++)o+=e[n];var i=this.float(t,0,o),r=0;for(n=0;n<e.length;n++)if(i<(r+=e[n]))return n;return e.length-1},t.shuffle=function(t,e){for(var o,n=e.length-1;n>=0;n--){var i=Math.floor(this.random(t)*(n+1));o=[e[n],e[i]],e[i]=o[0],e[n]=o[1]}return e},t.arrayRand=function(t,e){return e.length<=0?null:e[this.int(t,0,e.length)]},t}();o.default=r,cc._RF.pop()},{"./Tool":"Tool"}],RecyclePool:[function(t,e,o){"use strict";cc._RF.push(e,"a65467UylROdo6A5J2HqlLb","RecyclePool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.size=function(t){var e="string"==typeof t?this._urlMap.get(t):this._cmptMap.get(t);return void 0===e?0:e.length},t.clear=function(t){if("string"==typeof t){if(void 0===(n=this._urlMap.get(t)))return;for(var e=n.length,o=0;o<e;++o)n[o].destroy();n.length=0,this._urlMap.delete(t)}else{var n;if(void 0===(n=this._cmptMap.get(t)))return;for(e=n.length,o=0;o<e;++o)n[o].destroy();n.length=0,this._cmptMap.delete(t)}},t.clearAll=function(){this._urlMap.forEach(function(t){for(var e=t.length,o=0;o<e;++o)t[o].destroy()}),this._urlMap.clear(),this._cmptMap.forEach(function(t){for(var e=t.length,o=0;o<e;++o)t[o].destroy()}),this._cmptMap.clear()},t.get=function(t){if("string"==typeof t){if(void 0===(o=this._urlMap.get(t))||o.length<=0)return null;var e=o[n=o.length-1];return o.length=n,e}var o,n;if(void 0===(o=this._cmptMap.get(t))||o.length<=0)return null;e=o[n=o.length-1],o.length=n;var i=e.getComponent(t);return i&&i.reuse&&i.reuse(),e},t.put=function(e,o){if(o)if("string"==typeof e){if(void 0===(n=this._urlMap.get(e)))n=[],this._urlMap.set(e,n);else{if(-1!==n.indexOf(o))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(n.length>=t.limit)return o.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}o.removeFromParent(!1),n.push(o)}else{var n;if(void 0===(n=this._cmptMap.get(e)))n=[],this._cmptMap.set(e,n);else{if(-1!==n.indexOf(o))return void cc.error("[RecyclePool.put] error: \u4e0d\u53ef\u5c06\u8282\u70b9\u91cd\u590d\u653e\u5165\u8282\u70b9\u6c60\u4e2d");if(n.length>=t.limit)return o.destroy(),void cc.warn("[RecyclePool.put] warn: \u8282\u70b9\u6c60\u5230\u8fbe\u6700\u5927\u6570\u91cf key: "+e)}o.removeFromParent(!1);var i=o.getComponent(e);i&&i.unuse&&i.unuse(),n.push(o)}else cc.error("[RecyclePool.put] error: \u4f20\u5165\u8282\u70b9\u4e3a\u7a7a")},t._urlMap=new Map,t._cmptMap=new Map,t.limit=512,t}();o.default=n,cc._RF.pop()},{}],ResSpine:[function(t,e,o){"use strict";cc._RF.push(e,"14fadlt4gBHJ47mZbSl1iSm","ResSpine");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../util/Res"),l=cc._decorator,u=l.ccclass,p=l.menu,h=l.disallowMultiple,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._asset=null,e._spine=null,e}return i(e,t),Object.defineProperty(e.prototype,"spine",{get:function(){return this._spine||(this._spine=this.getComponent(sp.Skeleton)),this._spine},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){var t;null===(t=this._asset)||void 0===t||t.decRef()},e.prototype.setSkeletonData=function(t){var e;return a(this,void 0,Promise,function(){var o,n;return c(this,function(i){switch(i.label){case 0:return(n=s.default.get(t,sp.SkeletonData))?[3,2]:[4,s.default.load(t,sp.SkeletonData)];case 1:n=i.sent(),i.label=2;case 2:return(o=n)instanceof sp.SkeletonData&&(o.addRef(),null===(e=this._asset)||void 0===e||e.decRef(),this._asset=o,this.spine.skeletonData=o),[2]}})})},r([u,h,f(sp.Skeleton),p("Framework/UI\u7ec4\u4ef6/ResSpine")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],ResSprite:[function(t,e,o){"use strict";cc._RF.push(e,"1e608kcfHNDl6sxF57wMNFE","ResSprite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../util/Res"),l=cc._decorator,u=l.ccclass,p=l.menu,h=l.disallowMultiple,f=l.requireComponent,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._asset=null,e._sprite=null,e}return i(e,t),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._sprite||(this._sprite=this.getComponent(cc.Sprite)),this._sprite},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteFrame",{get:function(){return this.sprite.spriteFrame},enumerable:!1,configurable:!0}),e.prototype.onDestroy=function(){var t;null===(t=this._asset)||void 0===t||t.decRef()},e.prototype.setSpriteFrame=function(t,e){var o;return void 0===e&&(e=""),a(this,void 0,Promise,function(){var n,i,r;return c(this,function(a){switch(a.label){case 0:return n=e?cc.SpriteAtlas:cc.SpriteFrame,(r=s.default.get(t,n))?[3,2]:[4,s.default.load(t,n)];case 1:r=a.sent(),a.label=2;case 2:return(i=r)instanceof n&&(i.addRef(),null===(o=this._asset)||void 0===o||o.decRef(),this._asset=i,this.sprite.spriteFrame=i instanceof cc.SpriteAtlas?i.getSpriteFrame(e):i),[2]}})})},r([u,h,f(cc.Sprite),p("Framework/UI\u7ec4\u4ef6/ResSprite")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../util/Res":"Res"}],Res:[function(t,e,o){"use strict";cc._RF.push(e,"e6bb4ug0+BII76RLebcZhXt","Res");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.getCachePrefabUrl=function(t){var e="";if(t instanceof cc.Prefab)e=t._resCacheUrl||"";else if(t instanceof cc.Node)for(var o=t;o&&!(o._prefab&&o._prefab.root&&(e=this._nodePath.get(o._prefab.root)||""));)o=o.parent;return e},t.cacheAsset=function(t,e,o){void 0===o&&(o=!0);var n=function(n){if(!n.has(t)){e.addRef(),e instanceof cc.Prefab&&(e._resCacheUrl=t);var i={asset:e,release:o,lastLoadTime:Date.now()/1e3};n.set(t,i)}};if(e instanceof cc.Prefab)n(this._prefabCache);else if(e instanceof cc.SpriteFrame)n(this._spriteFrameCache);else if(e instanceof cc.SpriteAtlas)n(this._spriteAtlasCache);else if(e instanceof sp.SkeletonData)n(this._skeletonDataCache);else{if(this._otherCache.has(t))return;e.addRef(),this._otherCache.set(t,e)}},t.get=function(t,e){var o=null,n=function(e){var n=e.get(t);n&&(o=n.asset,n.lastLoadTime=Date.now()/1e3)};return e===cc.Prefab?n(this._prefabCache):e===cc.SpriteFrame?n(this._spriteFrameCache):e===cc.SpriteAtlas?n(this._spriteAtlasCache):e===sp.SkeletonData?n(this._skeletonDataCache):o=this._otherCache.get(t),o},t.load=function(t,e,o,r){return void 0===o&&(o=!0),n(this,void 0,Promise,function(){var n,a,c=this;return i(this,function(i){switch(i.label){case 0:return n=r||"resources",(a=this.get(t,e))?[2,a]:"resources"==n?[3,4]:this._bundleCache.has(n)?[4,new Promise(function(o){c._bundleCache.get(n).load(t,e,function(t,e){t?(cc.error("[Res.load] error: "+t),o(null)):o(e)})})]:[3,2];case 1:return a=i.sent(),[3,3];case 2:cc.error(n+" bundle\u672a\u52a0\u8f7d"),i.label=3;case 3:return[3,6];case 4:return[4,new Promise(function(o){cc.resources.load(t,e,function(t,e){t?(cc.error("[Res.load] error: "+t),o(null)):o(e)})})];case 5:a=i.sent(),i.label=6;case 6:return this.cacheAsset(t,a,o),[2,a]}})})},t.loadDir=function(t,e,o,n){var i=this;void 0===o&&(o=!0);var r=n||"resources";if("resources"==r)return new Promise(function(n){cc.resources.loadDir(t,e,function(r,a){if(r)cc.error("[Res.loadDir] error: "+r),n([]);else{var c=cc.resources.getDirWithPath(t,e);a.forEach(function(t,e){i.cacheAsset(c[e].path,t,o)}),n(a)}})});if(this._bundleCache.has(r)){var a=this._bundleCache.get(r);return new Promise(function(n){a.loadDir(t,e,function(r,c){if(r)cc.error("[Res.loadDir] error: "+r),n([]);else{var s=a.getDirWithPath(t,e);c.forEach(function(t,e){i.cacheAsset(s[e].path,t,o)}),n(c)}})})}cc.error(r+" bundle\u672a\u52a0\u8f7d")},t.instantiate=function(t,e){if(!t)return cc.error("[Res.instantiate] original is null"),null;var o=cc.instantiate(t),n=null,i=this.getCachePrefabUrl(e)||this.getCachePrefabUrl(t);return i&&(n=this._prefabCache.get(i))&&n.release&&(Array.isArray(n.nodes)||(n.nodes=[]),n.nodes.push(o),this._nodePath.set(o,i)),o},t.releaseAll=function(){var t=this,e=Date.now()/1e3;this._prefabCache.forEach(function(o,n){if(o.release&&!(e-o.lastLoadTime<t.releaseSec)){if(Array.isArray(o.nodes)){for(var i=o.nodes.length-1;i>=0;i--){var r=o.nodes[i];r.isValid||(t._nodePath.delete(r),o.nodes.splice(i,1))}0===o.nodes.length&&delete o.nodes}Array.isArray(o.nodes)||(o.asset.decRef(),t._prefabCache.delete(n))}}),[this._spriteFrameCache,this._spriteAtlasCache,this._skeletonDataCache].forEach(function(o){o.forEach(function(n,i){!n.release||e-n.lastLoadTime<t.releaseSec||(n.asset.decRef(),o.delete(i))})})},t.loadBundle=function(t,e){return n(this,void 0,Promise,function(){var o=this;return i(this,function(n){switch(n.label){case 0:return this._bundleCache.has(e)||this._bundleCache.has(t)?[2,Promise.resolve(null)]:[4,new Promise(function(n,i){cc.assetManager.loadBundle(t,function(r,a){r?i("bundle\u52a0\u8f7d\u5931\u8d25"):e?(o._bundleCache.set(e,a),n(null)):(o._bundleCache.set(t,a),n(null))})})];case 1:return n.sent(),[2]}})})},t._nodePath=new Map,t._prefabCache=new Map,t._spriteFrameCache=new Map,t._spriteAtlasCache=new Map,t._skeletonDataCache=new Map,t._otherCache=new Map,t._bundleCache=new Map,t.releaseSec=0,t}();o.default=r,cc._RF.pop()},{}],ShaderFill:[function(t,e,o){"use strict";cc._RF.push(e,"63dfaBxVipD7bEv99K+9+0u","ShaderFill");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,u=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillColor=new cc.Color,e.fillPhase=0,e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("fillColor",this.fillColor),this.mat.setProperty("fillPhase",this.fillPhase)},r([s({tooltip:!1})],e.prototype,"fillColor",void 0),r([s({tooltip:!1,range:[0,1]})],e.prototype,"fillPhase",void 0),r([c,u,p,l("Framework/Shader/ShaderFill")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],ShaderOutline:[function(t,e,o){"use strict";cc._RF.push(e,"d2a0bLIldJHoqHhJxTVBs5H","ShaderOutline");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.disallowMultiple,h=c.executeInEditMode;(function(t){t[t.NONE=0]="NONE",t[t.OUT=1]="OUT",t[t.INNER=2]="INNER"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outlineColor=new cc.Color,e.outLineWidth=0,e.outlineType=a.NONE,e.textureSize=new cc.Size(1,1),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("outlineColor",this.outlineColor),this.mat.setProperty("outlineInfo",new cc.Vec4(this.textureSize.width,this.textureSize.height,this.outLineWidth,this.outlineType))},r([l({tooltip:!1})],e.prototype,"outlineColor",void 0),r([l({tooltip:!1})],e.prototype,"outLineWidth",void 0),r([l({type:cc.Enum(a),tooltip:!1})],e.prototype,"outlineType",void 0),r([l({tooltip:!1})],e.prototype,"textureSize",void 0),r([s,p,h,u("Framework/Shader/ShaderOutline")],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],ShaderShining:[function(t,e,o){"use strict";cc._RF.push(e,"10bd9Ws1BRG/ZPICDgLNLvK","ShaderShining");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/Timer"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.disallowMultiple,h=c.executeInEditMode,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e.slope=1,e.len=.25,e.strength=2,e.interval=1,e.timeScale=!1,e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){this.updateShader()},e.prototype.updateShader=function(){this.mat.setProperty("shiningData",new cc.Vec4(this.speed,this.slope,this.len,this.interval)),this.mat.setProperty("extra",new cc.Vec4(this.timeScale?a.default.scaleGameSec:a.default.gameSec,this.strength))},r([l({tooltip:!1})],e.prototype,"speed",void 0),r([l({tooltip:!1})],e.prototype,"slope",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"len",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"strength",void 0),r([l({tooltip:!1,range:[0,Number.MAX_SAFE_INTEGER]})],e.prototype,"interval",void 0),r([l({tooltip:!1})],e.prototype,"timeScale",void 0),r([s,p,h,u("Framework/Shader/ShaderShining")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../base/Timer":"Timer"}],ShaderTile:[function(t,e,o){"use strict";cc._RF.push(e,"e6e3agdOnJF/o7rgEOg4Iq+","ShaderTile");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.menu,u=a.disallowMultiple,p=a.executeInEditMode,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scale=new cc.Vec2(1,1),e.offset=new cc.Vec2(0,0),e._mat=null,e}return i(e,t),Object.defineProperty(e.prototype,"mat",{get:function(){return this._mat||(this._mat=this.getComponent(cc.RenderComponent).getMaterial(0)),this._mat},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.updateShader()},e.prototype.update=function(){},e.prototype.updateShader=function(){this.mat.setProperty("tile",new cc.Vec4(this.scale.x,this.scale.y,this.offset.x,this.offset.y))},r([s({tooltip:!1})],e.prototype,"scale",void 0),r([s({tooltip:!1})],e.prototype,"offset",void 0),r([c,u,p,l("Framework/Shader/ShaderTile")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],ShakeNode:[function(t,e,o){"use strict";cc._RF.push(e,"936e8flAq9L248TlLh5Hzd0","ShakeNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../util/Tween"),c=cc._decorator,s=c.ccclass,l=c.property,u=c.menu,p=c.disallowMultiple,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shakePower=5,e.shakeTime=.16,e.timeScale=!1,e._tween=null,e}return i(e,t),e.prototype.shake=function(t){if(void 0===t&&(t=5),!(this._tween&&this._tween.isPlaying()||t<=0||this.shakePower<=0||this.shakeTime<=0)){var e=cc.v2(0,this.shakePower);this.node.setPosition(e);for(var o=[],n=[],i=1;i<=8;i++){var r=e.rotate(Math.PI/4*3*i);o.push(r.x),n.push(r.y)}this._tween=this.timeScale?new a.Tween(this.node,a.SCALE_TWEEN):new a.Tween(this.node),this._tween.to({x:o,y:n},1e3*this.shakeTime).repeat(t).start()}},r([l({tooltip:!1})],e.prototype,"shakePower",void 0),r([l({tooltip:!1})],e.prototype,"shakeTime",void 0),r([l({tooltip:!1})],e.prototype,"timeScale",void 0),r([s,p,u("Framework/UI\u7ec4\u4ef6/ShakeNode")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../util/Tween":"Tween"}],ShufflingFigure:[function(t,e,o){"use strict";cc._RF.push(e,"eec0eGKMuBBlICnN+RKK3bK","ShufflingFigure");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=[0,2,4,5,3,1],u=[.4,.5,.8,1,.8,.5],p=[255,255,255,255,255,255],h=[cc.v2(0,0),cc.v2(-300,0),cc.v2(-200,0),cc.v2(0,0),cc.v2(200,0),cc.v2(300,0)],f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchNode=null,e.content=null,e.moveTime=.3,e.isCycle=!0,e.tweenGrp=[],e.isMoving=!1,e.cardsArray=[],e.pageGrp=[],e.pageStartServer=null,e.pageEndServer=null,e.pageIndex=-1,e.pageInfoUpdateServer=null,e.itemInfoGrp=[],e.firstX=0,e.firstY=0,e.nodeMap=new Map,e}return i(e,t),e.prototype.start=function(){},e.prototype.itemInfoGrpInit=function(){for(var t=0;t<this.content.children.length;t++){var e={num:t,zIndex:l[t],scale:u[t],opacity:p[t],position:h[t]};this.itemInfoGrp.push(e)}},e.prototype.structPageInit=function(t,e,o,n,i){this.pageIndex=t,this.clearTweenGrp(),this.itemInfoGrpInit(),this.isMoving=!1,this.tweenGrp=[],e&&(this.pageGrp=e),o&&(this.pageStartServer=o),n&&(this.pageEndServer=n),t>=0&&(this.pageIndex=t),i&&(this.pageInfoUpdateServer=i),this.cardsArray=this.content.children;for(var r=0;r<this.cardsArray.length;r++)this.cardsArray[r].getChildByName("New Label").getComponent(cc.Label).string=""+r,this.setNodeInfo(r,r);this.touchListen(),this.pageEndServer&&this.pageEndServer()},e.prototype.setNodeInfo=function(t,e){this.cardsArray[t].zIndex=this.itemInfoGrp[e].zIndex,this.cardsArray[t].scale=this.itemInfoGrp[e].scale,this.cardsArray[t].opacity=this.itemInfoGrp[e].opacity,this.cardsArray[t].setPosition(this.itemInfoGrp[e].position),this.nodeMap.set(e,this.cardsArray[t])},e.prototype.touchListen=function(){this.touchNode.on(cc.Node.EventType.TOUCH_START,this.touchStartServer,this),this.touchNode.on(cc.Node.EventType.TOUCH_END,this.touchEndServer,this),this.touchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancelServer,this)},e.prototype.closeTouchListen=function(){this.touchNode.targetOff(this);for(var t=0;t<this.tweenGrp.length;t++)this.tweenGrp[t]&&(this.tweenGrp[t].stop(),this.tweenGrp[t]=null)},e.prototype.touchStartServer=function(t){var e=t.getLocation();this.firstX=e.x,this.firstY=e.y},e.prototype.touchEndServer=function(t){var e=t.getLocation(),o=this.firstX-e.x;o>5?this.revolve2Left():o<-5&&this.revolve2Right()},e.prototype.touchCancelServer=function(t){var e=t.getLocation(),o=this.firstX-e.x;this.firstY,e.y,o>5?this.revolve2Left():this.revolve2Right()},e.prototype.fivePageInfoInit=function(t){var e=this.pageIndex;t>=0&&(e=t),this.pageInfoUpdateServer(0,this.pageGrp[e]),e-1>=0?this.pageInfoUpdateServer(this.content.children.length-1,this.pageGrp[e-1]):this.pageInfoUpdateServer(this.content.children.length-1,null),e-2>=0?this.pageInfoUpdateServer(this.content.children.length-2,this.pageGrp[e-2]):this.pageInfoUpdateServer(this.content.children.length-2,null),e+1<=this.pageGrp.length-1?this.pageInfoUpdateServer(1,this.pageGrp[e+1]):this.pageInfoUpdateServer(1,null),e+2<=this.pageGrp.length-1?this.pageInfoUpdateServer(2,this.pageGrp[e+2]):this.pageInfoUpdateServer(2,null)},e.prototype.revolve2Right=function(){var t=this;if(!this.isMoving){this.pageStartServer&&this.pageStartServer(!1),this.isMoving=!0;var e=new Map;this.nodeMap.forEach(function(o,n){var i=n;n==t.cardsArray.length-1?i=0:i+=1,e.set(i,o);var r=t.itemInfoGrp[i];o.zIndex=r.zIndex,t.tweenGrp[n]=cc.tween(o).to(t.moveTime,{position:cc.v3(r.position,0),scale:r.scale,opacity:r.opacity}).call(function(){t.isMoving=!1,t.pageEndServer&&t.pageEndServer()}).start()}),this.nodeMap=e}},e.prototype.revolve2Left=function(){var t=this;if(!this.isMoving){this.pageStartServer&&this.pageStartServer(!0),this.isMoving=!0;var e=new Map;this.nodeMap.forEach(function(o,n){var i=n;0==n?i=t.cardsArray.length-1:i-=1,e.set(i,o);var r=t.itemInfoGrp[i];o.zIndex=r.zIndex,t.tweenGrp[n]=cc.tween(o).to(t.moveTime,{position:cc.v3(r.position,0),scale:r.scale,opacity:r.opacity}).call(function(){t.isMoving=!1,t.pageEndServer&&t.pageEndServer()}).start()}),this.nodeMap=e}},e.prototype.clearTweenGrp=function(){if(this.tweenGrp)for(var t=0;t<this.tweenGrp.length;t++)this.tweenGrp[t]&&(this.tweenGrp[t].stop(),this.tweenGrp[t]=null)},r([s(cc.Node)],e.prototype,"touchNode",void 0),r([s(cc.Node)],e.prototype,"content",void 0),r([s(cc.Float)],e.prototype,"moveTime",void 0),r([s(cc.Boolean)],e.prototype,"isCycle",void 0),r([c],e)}(cc.Component);o.default=f,cc._RF.pop()},{}],ThirdOrderBezierGrp:[function(t,e,o){"use strict";cc._RF.push(e,"a35417QS/lHJY0qtjMa8+UU","ThirdOrderBezierGrp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../common/cmpt/base/Layer"),c=t("../../../common/const/EventName"),s=t("../../../common/util/Events"),l=t("../../../common/util/LyTools"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFixedStartPoint=!1,e.startNode=null,e.grpNum=3,e.startPoint=null,e.drawGraphics=null,e._pointsGrp=[],e}return i(e,t),Object.defineProperty(e.prototype,"pointsGrp",{get:function(){return this._pointsGrp},set:function(t){this._pointsGrp=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.onDestroy=function(){s.default.off(c.EventName.BEZIER_DRAW,this.restartDraw,this)},e.prototype.init=function(){this.createStartPoint(),this.createDrawNode();for(var t=0;t<this.grpNum;t++)this.createPoint();this.restartDraw(),s.default.on(c.EventName.BEZIER_DRAW,this.restartDraw,this)},e.prototype.createStartPoint=function(){var t=this.isFixedStartPoint?this.startNode:l.LyTools.createPureColorNode("starPoint",cc.color(100,0,100,255),cc.v2(80,80));t.active=!0,t.parent=this.node,t.setPosition(0,0),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.opacity=100;var e=t.touch.getDelta();this.x+=e.x,this.y+=e.y},t),t.on(cc.Node.EventType.TOUCH_END,function(){this.opacity=255,s.default.emit(c.EventName.BEZIER_DRAW)},t),this.startPoint=t},e.prototype.createDrawNode=function(){var t=new cc.Node("graphics");t.parent=this.node,t.addComponent(cc.Graphics),this.drawGraphics=t.getComponent(cc.Graphics),this.drawGraphics.clear(),this.drawGraphics.lineWidth=6,this.drawGraphics.strokeColor=cc.Color.GREEN},e.prototype.createPoint=function(){this.pointsGrp.push([]);for(var t=0;t<3;t++){var e=new cc.Node("Ctl"+t);e.parent=this.node,t<3&&e.setPosition(100*t,100*this.pointsGrp.length),e.addComponent(cc.Sprite).spriteFrame=t<2?l.LyTools.createSpriteFrame(cc.color(0,0,0,255),new cc.Vec4(0,0,50,50)):l.LyTools.createSpriteFrame(cc.color(255,0,0,255),new cc.Vec4(0,0,50,50)),e.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.opacity=100;var e=t.touch.getDelta();this.x+=e.x,this.y+=e.y},e),e.on(cc.Node.EventType.TOUCH_END,function(){this.opacity=255,s.default.emit(c.EventName.BEZIER_DRAW)},e);var o=this.pointsGrp.length;this.pointsGrp[o-1].push(e)}},e.prototype.restartDraw=function(){this.drawGraphics.clear();var t=this.startPoint.getPosition();this.drawGraphics.moveTo(t.x,t.y);for(var e=0;e<this.pointsGrp.length;e++)this.drawGraphics.bezierCurveTo(this.pointsGrp[e][0].x,this.pointsGrp[e][0].y,this.pointsGrp[e][1].x,this.pointsGrp[e][1].y,this.pointsGrp[e][2].x,this.pointsGrp[e][2].y);this.drawGraphics.stroke()},e.prototype.getPointsGrp=function(){return this.pointsGrp},e.prototype.delateOneGrp=function(){if(this.pointsGrp.length){this.grpNum-=1;for(var t=this.pointsGrp.splice(this.pointsGrp.length-1,1)[0],e=0;e<t.length;e++)t[e].removeFromParent();this.restartDraw()}else a.default.inst.showTip({text:"\u90fd\u6728\u6709\u4e86",end:cc.v2(0,100),duration:.2})},e.prototype.addOneGrp=function(){this.grpNum+=1,this.createPoint(),this.restartDraw()},r([h({tooltip:"\u662f\u5426\u6307\u5b9a\u56fa\u5b9a\u521d\u59cb\u8282\u70b9"})],e.prototype,"isFixedStartPoint",void 0),r([h({type:cc.Node,visible:function(){return this.isFixedStartPoint}})],e.prototype,"startNode",void 0),r([h({tooltip:!1})],e.prototype,"grpNum",void 0),r([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../common/cmpt/base/Layer":"Layer","../../../common/const/EventName":"EventName","../../../common/util/Events":"Events","../../../common/util/LyTools":"LyTools"}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"435944whQBN4o91RvmJFpuA","Timer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../const/EventName"),c=t("../../util/Events"),s=t("../../util/Tween"),l=cc._decorator,u=l.ccclass,p=l.executionOrder,h=l.menu,f=l.disallowMultiple;cc.director.on(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){if(!d.timer){cc.log("addPersistRootNode: TIMER");var t=new cc.Node("TIMER");cc.game.addPersistRootNode(t),t.addComponent(d)}});var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"timer",{get:function(){return this._timer},enumerable:!1,configurable:!0}),Object.defineProperty(e,"timeScale",{get:function(){return this._timeScale},set:function(t){t===this._timeScale||t<0||(this._timeScale=t,c.default.emit(a.EventName.TIME_SCALE))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"realDt",{get:function(){return this._realDt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleDt",{get:function(){return this._realDt*this._timeScale},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameSec",{get:function(){return this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"gameMs",{get:function(){return 1e3*this._gameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameSec",{get:function(){return this._scaleGameSec},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleGameMs",{get:function(){return 1e3*this._scaleGameSec},enumerable:!1,configurable:!0}),e.reset=function(){this._puaseCount=0,this._timeScale=1,this._lastTimeScale=1},e.gamePause=function(){this._puaseCount++,this._puaseCount>1||(this._lastTimeScale=this._timeScale,this._timeScale=0,c.default.emit(a.EventName.GAME_PAUSE))},e.gameResume=function(){this._puaseCount<=0||(this._puaseCount--,this._puaseCount<=0&&(this._timeScale=this._lastTimeScale,c.default.emit(a.EventName.GAME_RESUME)))},e.getFormatTime=function(t){var e=Math.floor(t),o=Math.floor(e/60),n=Math.floor(e/3600),i=o%60<10?"0"+o%60:""+o%60,r=e%60<10?"0"+e%60:""+e%60;return n>0?(n<10?"0"+n:""+n)+":"+i+":"+r:i+":"+r},e.prototype.onLoad=function(){o._timer||(o._timer=this)},e.prototype.onDestroy=function(){o._timer===this&&(o._timer=null),s.TWEEN.removeAll(),s.SCALE_TWEEN.removeAll()},e.prototype.update=function(t){o._timer===this&&(o._realDt=t,o._gameSec+=t,o._scaleGameSec+=o.scaleDt,s.TWEEN.update(o.gameMs),o.scaleDt>0&&s.SCALE_TWEEN.update(o.scaleGameMs))},e._timer=null,e._puaseCount=0,e._lastTimeScale=1,e._timeScale=1,e._realDt=0,e._gameSec=0,e._scaleGameSec=0,o=r([u,f,p(-1e3),h("Framework/\u57fa\u7840\u7ec4\u4ef6/Timer")],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../const/EventName":"EventName","../../util/Events":"Events","../../util/Tween":"Tween"}],Tip:[function(t,e,o){"use strict";cc._RF.push(e,"86d61wcIsZPSrb29FvmFJRL","Tip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=a.disallowMultiple,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layout=null,e.textLab=null,e}return i(e,t),e.prototype.init=function(t){this.textLab.string=t,this.textLab._forceUpdateRenderData(),this.layout.updateLayout()},r([s(cc.Layout)],e.prototype,"layout",void 0),r([s(cc.Label)],e.prototype,"textLab",void 0),r([c,l,u("Framework/\u57fa\u7840\u7ec4\u4ef6/Tip")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Tool:[function(t,e,o){"use strict";cc._RF.push(e,"8f0aaDZc6xBdrsOcvbGZFVC","Tool"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Tween"),i=function(){function t(){}return t.deepCopy=function(t){if("object"!=typeof t||null===t||t instanceof RegExp)return t;var e=null;if(Array.isArray(t)){e=[];for(var o=0,n=t;o<n.length;o++){var i=n[o];e.push(this.deepCopy(i))}}else for(var r in e={},t)e[r]=this.deepCopy(t[r]);return e},t.wait=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},t.waitCmpt=function(t,e){return new Promise(function(o){t.scheduleOnce(function(){o()},e)})},t.waitTween=function(t,e,o){return void 0===o&&(o=n.TWEEN),new Promise(function(i){new n.Tween({k:0},o).to({k:1},1e3*e).onComplete(function(){i()}).start().bindCCObject(t)})},t.lerp=function(t,e,o,n){void 0===n&&(n=0),n=Math.abs(n);var i=e-t,r=i*o;return r=r<0?Math.min(r,-n):Math.max(r,n),Math.abs(r)>Math.abs(i)&&(r=i),t+r},t.calcTwoPointForm=function(t,e,o){return t.x===e.x?t.y:(e.y-t.y)*(o-t.x)/(e.x-t.x)+t.y},t.overlapRect=function(t,e){var o=Math.max(t.xMin,e.xMin),n=Math.min(t.xMax,e.xMax),i=Math.max(t.yMin,e.yMin),r=Math.min(t.yMax,e.yMax);return o>n||i>r?null:cc.rect(o,i,n-o,r-i)},t.inRange=function(t,e,o,n){return void 0===n&&(n=!0),n?o>=t&&o<=e:o>t&&o<e},t.randInt=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},t.randFloat=function(t,e){return void 0===e&&(e=void 0),void 0===e&&(e=t,t=0),Math.random()*(e-t)+t},t.randWeightIdx=function(t){for(var e=0,o=0;o<t.length;o++)e+=t[o];var n=this.randFloat(0,e),i=0;for(o=0;o<t.length;o++)if(n<(i+=t[o]))return o;return t.length-1},t.shuffleString=function(t){for(var e=[],o=0;o<t.length;o++)e.push(t[o]);return e=this.shuffle(e),t="",e.forEach(function(e){t+=e}),t},t.shuffle=function(t){for(var e,o=t.length-1;o>=0;o--){var n=Math.floor(Math.random()*(o+1));e=[t[o],t[n]],t[n]=e[0],t[o]=e[1]}return t},t.arrayRand=function(t){return t.length<=0?null:t[this.randInt(0,t.length)]},t.arrayHas=function(t,e){return("function"!=typeof e?t.findIndex(function(t){return t===e}):t.findIndex(e))>=0},t.arraySwap=function(t,e,o){var n;e!==o&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,o)&&(n=[t[o],t[e]],t[e]=n[0],t[o]=n[1])},t.arrayMove=function(t,e,o){if(e!==o&&this.inRange(0,t.length-1,e)&&this.inRange(0,t.length-1,o)){var n=t.splice(e,1);t.splice(o,0,n[0])}},t.arrayAdd=function(t,e,o){return void 0===o&&(o=!1),!(!o&&this.arrayHas(t,e)||(t.push(e),0))},t.arrayDelete=function(t,e){var o=t.findIndex(function(t){return t===e});return o>=0&&(t.splice(o,1),!0)},t.nodeRecursive=function(t,e,o){var n=this;void 0===o&&(o=void 0),t instanceof cc.Node?(e.call(o,t),t.children.forEach(function(t){n.nodeRecursive(t,e,o)})):Array.isArray(t)&&t.forEach(function(t){n.nodeRecursive(t,e,o)})},t.clearChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){t.destroyAllChildren(),t.removeAllChildren()})},t}();o.default=i,cc._RF.pop()},{"./Tween":"Tween"}],TouchBlocker:[function(t,e,o){"use strict";cc._RF.push(e,"af64dQP7QpG9o1b/fwPiTrQ","TouchBlocker");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.isBlockAll=!1,e.isPassAll=!1,e}return i(e,t),e.prototype.onLoad=function(){this.registerEvent()},e.prototype.start=function(){this.reset()},e.prototype.onDestroy=function(){this.unregisterEvent()},e.prototype.registerEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEvent,this)},e.prototype.unregisterEvent=function(){this.node.targetOff(this)},e.prototype.reset=function(){this.setSwallowTouches(!1)},e.prototype.onTouchEvent=function(t){this.isPassAll||!this.isBlockAll&&this.target&&this.target.getBoundingBoxToWorld().contains(t.getLocation())||t.stopPropagationImmediate()},e.prototype.blockAll=function(){this.isBlockAll=!0,this.isPassAll=!1},e.prototype.passAll=function(){this.isPassAll=!0,this.isBlockAll=!1},e.prototype.setTarget=function(t){this.target=t,this.isBlockAll=!1,this.isPassAll=!1},e.prototype.setSwallowTouches=function(t){this.node._touchListener&&this.node._touchListener.setSwallowTouches(t)},r([s({type:cc.Node,tooltip:!1})],e.prototype,"target",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Tween:[function(t,e,o){"use strict";cc._RF.push(e,"c1812TWgDxL9rRQRBc+TfTK","Tween"),Object.defineProperty(o,"__esModule",{value:!0}),o.SCALE_TWEEN=o.TWEEN=o.VERSION=o.Tween=o.Sequence=o.Interpolation=o.Group=o.Easing=void 0;var n=t("../cmpt/base/Timer");o.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-o.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*o.Easing.Bounce.In(2*t):.5*o.Easing.Bounce.Out(2*t-1)+.5}}};var i,r="undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(e){return t._tweens[e]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=r()),void 0===e&&(e=!1);var o=Object.keys(this._tweens);if(0===o.length)return!1;for(var n=0;n<o.length;n++)(i=this._tweens[o[n]])&&!i.isCCObjectValid()&&i.stop();if(0===(o=Object.keys(this._tweens)).length)return!1;for(;o.length>0;){for(this._tweensAddedDuringUpdate={},n=0;n<o.length;n++){var i,a=!e;(i=this._tweens[o[n]])&&!1===i.update(t,a)&&!e&&delete this._tweens[o[n]]}o=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}();o.Group=a,o.Interpolation={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),a=o.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],i):e>1?a(t[n],t[n-1],n-i):a(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,a=o.Interpolation.Utils.Bernstein,c=0;c<=i;c++)n+=r(1-e,i-c)*r(e,c)*t[c]*a(i,c);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),a=o.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),a(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(a(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):a(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,o){return(e-t)*o+t},Bernstein:function(t,e){var n=o.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var o=t;o>1;o--)e*=o;return i[t]=e,e}),CatmullRom:function(t,e,o,n,i){var r=.5*(o-t),a=.5*(n-e),c=i*i;return(2*e-2*o+r+a)*i*c+(-3*e+3*o-2*r-a)*c+r*i+e}}};var c=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}();o.Sequence=c;var s=new a,l=new a,u=function(){function t(t,e){void 0===e&&(e=s),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=o.Easing.Linear.None,this._interpolationFunction=o.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=c.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.bindCCObject=function(t){this._ccObject=t},t.prototype.isCCObjectValid=function(){return!(this._object instanceof cc.Object&&!this._object.isValid||this._ccObject instanceof cc.Object&&!this._ccObject.isValid)},t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(void 0===t&&(this._group===s?t=n.default.gameMs:this._group===l&&(t=n.default.scaleGameMs)),this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?r()+parseFloat(t):t:r(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,o,n){for(var i in o){var r=t[i],a=Array.isArray(r),c=a?"array":typeof r,s=!a&&Array.isArray(o[i]);if("undefined"!==c&&"function"!==c){if(s){var l=o[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,r)),o[i]=[r].concat(l)}if("object"!==c&&!a||!r||s)void 0===e[i]&&(e[i]=r),a||(e[i]*=1),n[i]=s?o[i].slice().reverse():e[i]||0;else{for(var u in e[i]=a?[]:{},r)e[i][u]=r[u];n[i]=a?[]:{},this._setupProperties(r,e[i],o[i],n[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=r()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},t.prototype.resume=function(t){return void 0===t&&(t=r()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=[];for(var o=0;o<arguments.length;o++)t[o]=arguments[o];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=r()),void 0===e&&(e=!0),this._isPaused)return!0;var o,n,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var a=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(o in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[o]||(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,s=this._chainedTweens.length;c<s;c++)this._chainedTweens[c].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,o,n){for(var i in o)if(void 0!==e[i]){var r=e[i]||0,a=o[i],c=Array.isArray(t[i]),s=Array.isArray(a);!c&&s?t[i]=this._interpolationFunction(a,n):"object"==typeof a&&a?this._updateProperties(t[i],r,a,n):"number"==typeof(a=this._handleRelativeValue(r,a))&&(t[i]=r+(a-r)*n)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],o=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof o?this._valuesStartRepeat[t]+parseFloat(o):this._valuesEnd[t],this._valuesEnd[t]=e},t}();o.Tween=u,o.VERSION="18.6.4",c.nextId,o.TWEEN=s,o.SCALE_TWEEN=l,cc._RF.pop()},{"../cmpt/base/Timer":"Timer"}],Url:[function(t,e,o){"use strict";cc._RF.push(e,"a8f33QbcWNMTZ0PfOQy5Uvh","Url"),Object.defineProperty(o,"__esModule",{value:!0}),o.DirUrl=o.ResUrl=void 0,o.ResUrl={PREFAB:{TIP:"prefab/tip/Tip",HOME:"prefab/home/Home",GAME:"prefab/game/Game"},ATLAS:{EN:"textures/localizedImage/en/AutoAtlas",ZH:"textures/localizedImage/zh/AutoAtlas"},AUDIO:{BGM1:"audio/bgm1",BGM2:"audio/bgm2",SFX1:"audio/sfx1",SFX2:"audio/sfx2",SFX_UI:"audio/sfxUi"}},o.DirUrl={PREFAB:"prefab/",PREFAB_DIALOG:"prefab/dialog/",ATLAS:"atlas/",TEXTURE:"textures/",AUDIO:"audio/"},cc._RF.pop()},{}],VirtualItem:[function(t,e,o){"use strict";cc._RF.push(e,"37390yL2g9Gx56ICLo3MK1K","VirtualItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.disallowMultiple,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataIdx=0,e.args=null,e.others=[],e}return i(e,t),e.prototype.onRefresh=function(){},e.prototype.onRefreshOthers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onReset=function(){},e.prototype.getRealSize=function(){return this.node.getContentSize()},r([c,s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],VirtualLayout:[function(t,e,o){"use strict";cc._RF.push(e,"23c51D+ML1JI7Nz58WdBOmf","VirtualLayout");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,c,s,l,u=t("../../util/Res"),p=t("../../util/Tool"),h=t("./VirtualItem"),f=t("./VirtualList"),d=cc._decorator,y=d.ccclass,_=d.property,g=d.disallowMultiple;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"})(a||(a={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(c||(c={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(s||(s={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(l||(l={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.VERTICAL,e.startAxis=c.HORIZONTAL,e.left=0,e.right=0,e.top=0,e.bottom=0,e.spacingX=0,e.spacingY=0,e.verticalDirection=s.TOP_TO_BOTTOM,e.horizontalDirection=l.LEFT_TO_RIGHT,e._list=null,e._view=null,e._viewEdge=null,e._fixedSize=null,e._sizeDirty=!1,e._viewDirty=!1,e._items=[],e._itemPool=[],e._otherItemsArr=[],e._otherItemPoolArr=[],e}return i(e,t),e.prototype.onInit=function(t){var e=this;this._list=t,this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this._list.others.forEach(function(){e._otherItemsArr.push([]),e._otherItemPoolArr.push([])}),this._list.isFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getContentSize()),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.lateUpdate=function(){this.updateSize(),this.updateView()},e.prototype.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this._list.isFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},e.prototype.updateSizeFixed=function(){if(this.type===a.VERTICAL){if(this._list.argsArr.length<=0)return void(this.node.height=0);this.node.height=this.top+this.bottom+(this._list.argsArr.length-1)*this.spacingY+this._fixedSize.height*this._list.argsArr.length}else if(this.type===a.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.width=0);this.node.width=this.left+this.right+(this._list.argsArr.length-1)*this.spacingX+this._fixedSize.width*this._list.argsArr.length}else if(this.startAxis===c.HORIZONTAL){if(this._list.argsArr.length<=0)return void(this.node.height=0);var t=Math.floor((this.node.width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));t=Math.max(t,1);var e=Math.ceil(this._list.argsArr.length/t);this.node.height=this.top+this.bottom+(e-1)*this.spacingY+this._fixedSize.height*e}else{if(this._list.argsArr.length<=0)return void(this.node.width=0);t=Math.floor((this.node.height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY)),t=Math.max(t,1);var o=Math.ceil(this._list.argsArr.length/t);this.node.width=this.left+this.right+(o-1)*this.spacingX+this._fixedSize.width*o}},e.prototype.updateSizeUnfixed=function(){},e.prototype.updateView=function(){!this._viewDirty||this._list.argsArr.length<=0||(this._viewDirty=!1,this._list.isFixedSize?this.updateViewFixed():this.updateViewUnfixed())},e.prototype.updateViewFixed=function(){var t,e,o,n,i=this,r=this.checkViewItem(),u=r.inView,p=r.outView,f=this.getNodeEdgeRect(this.node);if(this.type===a.VERTICAL)for(var d=function(t){if(y.verticalDirection===s.TOP_TO_BOTTOM){if(o=f.yMax-(y.top+t*y.spacingY+y._fixedSize.height*t),n=o-y._fixedSize.height,o+y.node.y<y._viewEdge.yMin)return{value:void 0};if(n+y.node.y>y._viewEdge.yMax)return"continue"}else{if(n=f.yMin+y.bottom+t*y.spacingY+y._fixedSize.height*t,o=n+y._fixedSize.height,n+y.node.y>y._viewEdge.yMax)return{value:void 0};if(o+y.node.y<y._viewEdge.yMin)return"continue"}if(-1!==u.findIndex(function(e){return i._items[e].getComponent(h.default).dataIdx===t}))return"continue";var e=0===p.length?y.addItemNode():p.shift(),r=y._items[e];y.setItem(cc.v3(0,n+r.anchorY*r.height),t,e)},y=this,_=0;_<this._list.argsArr.length;_++){var g=d(_);if("object"==typeof g)return g.value}else if(this.type===a.HORIZONTAL){var m=function(o){if(v.horizontalDirection===l.RIGHT_TO_LEFT){if(t=f.xMax-(v.right+o*v.spacingX+v._fixedSize.width*o),e=t-v._fixedSize.width,t+v.node.x<v._viewEdge.xMin)return{value:void 0};if(e+v.node.x>v._viewEdge.xMax)return"continue"}else{if(e=f.xMin+v.left+o*v.spacingX+v._fixedSize.width*o,t=e+v._fixedSize.width,e+v.node.x>v._viewEdge.xMax)return{value:void 0};if(t+v.node.x<v._viewEdge.xMin)return"continue"}if(-1!==u.findIndex(function(t){return i._items[t].getComponent(h.default).dataIdx===o}))return"continue";var n=0===p.length?v.addItemNode():p.shift(),r=v._items[n];v.setItem(cc.v3(e+r.anchorX*r.width,0),o,n)},v=this;for(_=0;_<this._list.argsArr.length;_++){var b=m(_);if("object"==typeof b)return b.value}}else{var O=function(r){var a=0,d=0;if(w.startAxis===c.HORIZONTAL){var y=Math.floor((w.node.width-w.left-w.right+w.spacingX)/(w._fixedSize.width+w.spacingX));if(y=Math.max(y,1),a=Math.floor(r/y),d=r%y,w.verticalDirection===s.TOP_TO_BOTTOM){if(o=f.yMax-(w.top+a*w.spacingY+w._fixedSize.height*a),n=o-w._fixedSize.height,o+w.node.y<w._viewEdge.yMin)return{value:void 0};if(n+w.node.y>w._viewEdge.yMax)return"continue"}else{if(n=f.yMin+w.bottom+a*w.spacingY+w._fixedSize.height*a,o=n+w._fixedSize.height,n+w.node.y>w._viewEdge.yMax)return{value:void 0};if(o+w.node.y<w._viewEdge.yMin)return"continue"}if(w.horizontalDirection===l.RIGHT_TO_LEFT?(t=f.xMax-(w.right+d*w.spacingX+w._fixedSize.width*d),e=t-w._fixedSize.width):(e=f.xMin+w.left+d*w.spacingX+w._fixedSize.width*d,t=e+w._fixedSize.width),t+w.node.x<w._viewEdge.xMin||e+w.node.x>w._viewEdge.xMax)return"continue"}else{if(y=Math.floor((w.node.height-w.top-w.bottom+w.spacingY)/(w._fixedSize.height+w.spacingY)),y=Math.max(y,1),a=r%y,d=Math.floor(r/y),w.horizontalDirection===l.RIGHT_TO_LEFT){if(t=f.xMax-(w.right+d*w.spacingX+w._fixedSize.width*d),e=t-w._fixedSize.width,t+w.node.x<w._viewEdge.xMin)return{value:void 0};if(e+w.node.x>w._viewEdge.xMax)return"continue"}else{if(e=f.xMin+w.left+d*w.spacingX+w._fixedSize.width*d,t=e+w._fixedSize.width,e+w.node.x>w._viewEdge.xMax)return{value:void 0};if(t+w.node.x<w._viewEdge.xMin)return"continue"}if(w.verticalDirection===s.TOP_TO_BOTTOM?(o=f.yMax-(w.top+a*w.spacingY+w._fixedSize.height*a),n=o-w._fixedSize.height):(n=f.yMin+w.bottom+a*w.spacingY+w._fixedSize.height*a,o=n+w._fixedSize.height),o+w.node.y<w._viewEdge.yMin||n+w.node.y>w._viewEdge.yMax)return"continue"}if(-1!==u.findIndex(function(t){return i._items[t].getComponent(h.default).dataIdx===r}))return"continue";var _=0===p.length?w.addItemNode():p.shift(),g=w._items[_];w.setItem(cc.v3(e+g.anchorX*g.width,n+g.anchorY*g.height),r,_)},w=this;for(_=0;_<this._list.argsArr.length;_++){var P=O(_);if("object"==typeof P)return P.value}}},e.prototype.updateViewUnfixed=function(){},e.prototype.checkViewItem=function(){return this._list.isFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()},e.prototype.checkViewItemFixed=function(){var t=[],e=[];if(this.type===a.VERTICAL)for(var o=0;o<this._items.length;o++)(n=this._items[o].getBoundingBox()).yMin+this.node.y<=this._viewEdge.yMax&&n.yMax+this.node.y>=this._viewEdge.yMin?t.push(o):e.push(o);else if(this.type===a.HORIZONTAL)for(o=0;o<this._items.length;o++)(n=this._items[o].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&n.xMax+this.node.x>=this._viewEdge.xMin?t.push(o):e.push(o);else for(o=0;o<this._items.length;o++){var n;(n=this._items[o].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&n.xMax+this.node.x>=this._viewEdge.xMin&&n.yMin+this.node.y<=this._viewEdge.yMax&&n.yMax+this.node.y>=this._viewEdge.yMin?t.push(o):e.push(o)}return{inView:t,outView:e}},e.prototype.checkViewItemUnfixed=function(){return{inView:[],outView:[]}},e.prototype.setItem=function(t,e,o){var n=this._items[o];n.position=t;var i=n.getComponent(h.default);if(i.dataIdx=e,i.args=this._list.argsArr[e],i.onRefresh(i.args),this._list.others.length>0){var r=[];this._otherItemsArr.forEach(function(e){e[o].position=t,r.push(e[o])}),i.others=r,i.onRefreshOthers.apply(i,i.others)}},e.prototype.addItemNode=function(t){var e=this;void 0===t&&(t=!0);var o=null;if(this._itemPool.length>0)(o=this._itemPool.pop()).opacity=255,this._items.push(o),this._otherItemPoolArr.forEach(function(t,o){var n=t.pop();n.opacity=255,e._otherItemsArr[o].push(n)});else{var n=this._list.main.templateType===f.MainTemplateType.PREFAB?this._list.main.templatePrefab:this._list.main.templateNode;(o=u.default.instantiate(n,this.node)).getComponent(h.default)||o.addComponent(h.default),this.node.addChild(o),t?(o.opacity=255,this._items.push(o)):this.putItemNode(o);var i=o.children.slice(0);this._list.others.forEach(function(o,n){var r=null;switch(o.templateType){case f.OtherTemplateType.NODE:r=u.default.instantiate(o.templateNode,e.node);break;case f.OtherTemplateType.PREFAB:r=u.default.instantiate(o.templatePrefab,e.node);break;case f.OtherTemplateType.MAIN_ITEM_CHILD:if(!p.default.inRange(0,i.length-1,o.templateChild))return void cc.error("[VirtualLayout.addItemNode] error e.templateChild: "+o.templateChild);(r=i[o.templateChild]).removeFromParent();break;default:return void cc.error("[VirtualLayout.addItemNode] error e.templateType: "+o.templateType)}o.content.addChild(r),t?(r.opacity=255,e._otherItemsArr[n].push(r)):e.putItemNode(r,!0,n)})}return this._items.length-1},e.prototype.putItemNode=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0),t.opacity=0,t.setPosition(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e?this._otherItemPoolArr[o].push(t):(t.getComponent(h.default).onReset(),this._itemPool.push(t))},e.prototype.convertToParentPos=function(t,e){return t.add(e.position)},e.prototype.convertToChildPos=function(t,e){return t.sub(e.position)},e.prototype.getNodeEdgeRect=function(t){return cc.rect(-t.width*t.anchorX,-t.height*t.anchorY,t.width,t.height)},e.prototype.onPositionChanged=function(){var t=this;this._list.scrollView._outOfBoundaryAmountDirty=!0,this._viewDirty=!0,this._list.others.forEach(function(e){e.content.position=t.node.position})},e.prototype.getScrollOffset=function(t,e,o){return t=Math.min(t,this._list.argsArr.length-1),this._list.isFixedSize?this.getScrollOffsetFixed(t,e,o):this.getScrollOffsetUnfixed(t,e,o)},e.prototype.getScrollOffsetFixed=function(t,e,o){var n,i,r=this.getNodeEdgeRect(this.node);if(this.type===a.VERTICAL){this.verticalDirection===s.TOP_TO_BOTTOM?i=r.yMax-(this.top+t*this.spacingY+this._fixedSize.height*t)-this._fixedSize.height:(i=r.yMin+this.bottom+t*this.spacingY+this._fixedSize.height*t,this._fixedSize.height);var u=this._viewEdge.xMin-(r.xMin+this.node.x),p=r.yMax-(this._fixedSize.height*e.y+i)-(1-o.y)*this._viewEdge.height;return cc.v2(u,p)}if(this.type===a.HORIZONTAL)return this.horizontalDirection===l.RIGHT_TO_LEFT?n=r.xMax-(this.right+t*this.spacingX+this._fixedSize.width*t)-this._fixedSize.width:(n=r.xMin+this.left+t*this.spacingX+this._fixedSize.width*t,this._fixedSize.width),u=this._fixedSize.width*e.x+n-r.xMin-o.x*this._viewEdge.width,p=r.yMax-(this._viewEdge.yMax-this.node.y),cc.v2(u,p);var h=0,f=0;if(this.startAxis===c.HORIZONTAL){var d=Math.floor((this.node.width-this.left-this.right+this.spacingX)/(this._fixedSize.width+this.spacingX));d=Math.max(d,1),h=Math.floor(t/d),f=t%d}else d=Math.floor((this.node.height-this.top-this.bottom+this.spacingY)/(this._fixedSize.height+this.spacingY)),h=t%(d=Math.max(d,1)),f=Math.floor(t/d);return this.verticalDirection===s.TOP_TO_BOTTOM?i=r.yMax-(this.top+h*this.spacingY+this._fixedSize.height*h)-this._fixedSize.height:(i=r.yMin+this.bottom+h*this.spacingY+this._fixedSize.height*h,this._fixedSize.height),this.horizontalDirection===l.RIGHT_TO_LEFT?n=r.xMax-(this.right+f*this.spacingX+this._fixedSize.width*f)-this._fixedSize.width:(n=r.xMin+this.left+f*this.spacingX+this._fixedSize.width*f,this._fixedSize.width),u=this._fixedSize.width*e.x+n-r.xMin-o.x*this._viewEdge.width,p=r.yMax-(this._fixedSize.height*e.y+i)-(1-o.y)*this._viewEdge.height,cc.v2(u,p)},e.prototype.getScrollOffsetUnfixed=function(){return null},e.prototype.rearrange=function(t){var e=this;void 0===t&&(t=!0),this._sizeDirty=!0,this._viewDirty=!0,t&&(this._items.forEach(function(t,o){e.putItemNode(t),e._otherItemsArr.forEach(function(t,n){e.putItemNode(t[o],!0,n)})}),this._items.length=0,this._otherItemsArr.forEach(function(t){t.length=0}))},e.prototype.refreshAllItems=function(){var t=this;this._items.forEach(function(e){var o=e.getComponent(h.default);o.onRefresh(o.args),t._list.others.length>0&&o.onRefreshOthers.apply(o,o.others)})},r([_({type:cc.Enum(a),tooltip:!1})],e.prototype,"type",void 0),r([_({type:cc.Enum(c),tooltip:!1,visible:function(){return this.type===a.GRID}})],e.prototype,"startAxis",void 0),r([_({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"left",void 0),r([_({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"right",void 0),r([_({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"top",void 0),r([_({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"bottom",void 0),r([_({visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"spacingX",void 0),r([_({visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"spacingY",void 0),r([_({type:cc.Enum(s),visible:function(){return this.type===a.VERTICAL||this.type===a.GRID}})],e.prototype,"verticalDirection",void 0),r([_({type:cc.Enum(l),visible:function(){return this.type===a.HORIZONTAL||this.type===a.GRID}})],e.prototype,"horizontalDirection",void 0),r([y,g],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../util/Res":"Res","../../util/Tool":"Tool","./VirtualItem":"VirtualItem","./VirtualList":"VirtualList"}],VirtualList:[function(t,e,o){"use strict";cc._RF.push(e,"8815fg/3FJEjohj/PrC9n21","VirtualList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.OtherLayoutData=o.MainLayoutData=o.OtherTemplateType=o.MainTemplateType=void 0;var c,s,l=t("../../util/Tool"),u=t("./VirtualLayout"),p=cc._decorator,h=p.ccclass,f=p.property,d=p.requireComponent,y=p.executeInEditMode,_=p.disallowMultiple,g=p.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(c=o.MainTemplateType||(o.MainTemplateType={})),function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t[t.MAIN_ITEM_CHILD=2]="MAIN_ITEM_CHILD"}(s=o.OtherTemplateType||(o.OtherTemplateType={}));var m=function(){function t(){this.content=null,this._templateType=c.PREFAB,this._templatePrefab=null,this._templateNode=null,this.editorCall=null}return Object.defineProperty(t.prototype,"templateType",{get:function(){return this._templateType},set:function(t){this._templateType!==t&&(this._templateType=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templatePrefab",{get:function(){return this._templatePrefab},set:function(t){this._templatePrefab!==t&&(this._templatePrefab=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateNode",{get:function(){return this._templateNode},set:function(t){this._templateNode!==t&&(this._templateNode=t,this.resetMainItemChild(!0))},enumerable:!1,configurable:!0}),t.prototype.resetMainItemChild=function(t){void 0===t&&(t=!1)},r([f({type:cc.Node,tooltip:!1,visible:function(){return!1}})],t.prototype,"content",void 0),r([f({type:cc.Enum(c)})],t.prototype,"_templateType",void 0),r([f({type:cc.Enum(c),tooltip:!1})],t.prototype,"templateType",null),r([f(cc.Prefab)],t.prototype,"_templatePrefab",void 0),r([f({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===c.PREFAB}})],t.prototype,"templatePrefab",null),r([f(cc.Node)],t.prototype,"_templateNode",void 0),r([f({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===c.NODE}})],t.prototype,"templateNode",null),r([h("MainLayoutData")],t)}();o.MainLayoutData=m;var v=function(){function t(){this.content=null,this.templateType=s.PREFAB,this.templatePrefab=null,this.templateNode=null,this.templateChild=-1}return r([f({type:cc.Node,tooltip:!1})],t.prototype,"content",void 0),r([f({type:cc.Enum(s),tooltip:!1})],t.prototype,"templateType",void 0),r([f({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType===s.PREFAB}})],t.prototype,"templatePrefab",void 0),r([f({type:cc.Node,tooltip:!1,visible:function(){return this.templateType===s.NODE}})],t.prototype,"templateNode",void 0),r([f({type:cc.Enum({}),tooltip:!1,visible:function(){return this.templateType===s.MAIN_ITEM_CHILD}})],t.prototype,"templateChild",void 0),r([h("OtherLayoutData")],t)}();o.OtherLayoutData=v;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.main=new m,e.others=[],e.isFixedSize=!0,e._scrollView=null,e._layout=null,e._argsArr=[],e}return i(e,t),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView||(this._scrollView=this.getComponent(cc.ScrollView)),this._scrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout||(this._layout=this.scrollView.content.getComponent(u.default)),this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"argsArr",{get:function(){return this._argsArr},set:function(t){this._argsArr=t,this.layout.rearrange()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.layout&&this.layout.onInit(this)},e.prototype.resetInEditor=function(){this.runEditor()},e.prototype.onFocusInEditor=function(){this.main.resetMainItemChild()},e.prototype.runEditor=function(){},e.prototype.scrollItemToView=function(t,e,o,n,i){void 0===e&&(e=cc.v2()),void 0===o&&(o=cc.v2()),void 0===n&&(n=0),void 0===i&&(i=!0),this.scrollView.scrollToOffset(this.layout.getScrollOffset(t,e,o),n,i)},e.prototype.refreshAllItems=function(){this.layout.refreshAllItems()},e.prototype.reset=function(t,e){l.default.inRange(0,this._argsArr.length-1,t)&&(this._argsArr[t]=e,this.layout.rearrange())},e.prototype.push=function(t){var e=this._argsArr.push(t);return this.layout.rearrange(!1),e},e.prototype.pop=function(){var t=this._argsArr.pop();return this.layout.rearrange(),t},e.prototype.unshift=function(t){var e=this._argsArr.unshift(t);return this.layout.rearrange(),e},e.prototype.shift=function(){var t=this._argsArr.shift();return this.layout.rearrange(),t},e.prototype.splice=function(t,e){for(var o,n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return n=void 0===e?this._argsArr.splice(t):void 0===i||0===i.length?this._argsArr.splice(t,e):(o=this._argsArr).splice.apply(o,a([t,e],i)),this.layout.rearrange(),n},e.prototype.sort=function(t){var e=this._argsArr.sort(t);return this.layout.rearrange(),e},e.prototype.filter=function(t){return this._argsArr=this._argsArr.filter(t),this.layout.rearrange(),this._argsArr},r([f({type:m,tooltip:!1})],e.prototype,"main",void 0),r([f({type:v,tooltip:!1})],e.prototype,"others",void 0),r([f({visible:!1,tooltip:!1})],e.prototype,"isFixedSize",void 0),r([h,_,y,d(cc.ScrollView),g("Framework/UI\u7ec4\u4ef6/VirtualList")],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../util/Tool":"Tool","./VirtualLayout":"VirtualLayout"}],Zh:[function(t,e,o){"use strict";cc._RF.push(e,"5cb62aDaJtA4pHlrSAKjTY2","Zh"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={lang:"\u4e2d\u6587",text1:"\u6570\u5b57\uff1a%{num}",text2:"\u53c2\u65701: %{arg1}, \u53c2\u65702: %{arg2}"},cc._RF.pop()},{}],bezierTest:[function(t,e,o){"use strict";cc._RF.push(e,"cb8921bdRJOQoa+u1y0bI/a","bezierTest");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctlPoint=[],e.graphicsLine=null,e.isLeft=!0,e.durTime=1,e.addPercent=1,e.targetNum=0,e.linePosGrp=[],e.pointGrp=[],e.startIndex=0,e.canUpdateLine=!1,e.updateTime=0,e}return i(e,t),e.prototype.start=function(){this.node.on("restartDraw",this.restartDraw.bind(this))},e.prototype.update=function(){this.canUpdateLine&&(this.updateTime+=1,this.updateTime==this.durTime&&(this.updateTime=0,this.startIndex>10?this.startIndex=0:this.startIndex+=1,this.restartDraw()))},e.prototype.restartDraw=function(){this.linePosGrp=[],this.targetNum=0,this.drawInit(),this.updateMiddleNodePos(),this.getAllPos(),this.drawAll(),this.canUpdateLine=!0},e.prototype.updateMiddleNodePos=function(){var t=this.getMiddlePos(this.ctlPoint[0].position,this.ctlPoint[2].position);this.isLeft?this.ctlPoint[1].position=cc.v3(t.x-100,t.y+100,0):this.ctlPoint[1].position=cc.v3(t.x+100,t.y+100,0)},e.prototype.getMiddlePos=function(t,e){var o=(e.y-t.y)/(e.x-t.x),n=e.y-o*e.x,i=(t.x+e.x)/2,r=o*i+n;return cc.v2(i,r)},e.prototype.getAllPos=function(){for(;this.targetNum<100;)this.pointGrp=[],this.linePosGrp.push(this.getRoundPointPos(this.targetNum)),this.targetNum+=this.addPercent;this.linePosGrp.push(this.ctlPoint[this.ctlPoint.length-1].getPosition())},e.prototype.getRoundPointPos=function(t){if(0==this.pointGrp.length)for(var e=0;e<this.ctlPoint.length;e++)this.pointGrp.push(cc.v2(this.ctlPoint[e].getPosition()));if(1==this.pointGrp.length)return cc.v2(parseFloat(this.pointGrp[0].x.toString()),parseFloat(this.pointGrp[0].y.toString()));for(var o=[],n=0;n<this.pointGrp.length-1;n++)o.push(this.getLenPos(this.pointGrp[n],this.pointGrp[n+1],t));return this.pointGrp=o,this.getRoundPointPos(t)},e.prototype.getLenPos=function(t,e,o){var n=(e.y-t.y)/(e.x-t.x),i=e.y-n*e.x,r=t.x+o/100*(e.x-t.x),a=n*r+i;return cc.v2(r,a)},e.prototype.drawInit=function(){this.graphicsLine.clear(),this.graphicsLine.lineWidth=6,this.graphicsLine.strokeColor=cc.Color.YELLOW},e.prototype.drawAll=function(){this.graphicsLine.clear();var t=this.linePosGrp[this.startIndex];this.graphicsLine.moveTo(t.x,t.y);for(var e=0,o=this.startIndex;o<this.linePosGrp.length;o++)e+=1,this.graphicsLine.lineTo(this.linePosGrp[o].x,this.linePosGrp[o].y),10==e&&(this.graphicsLine.stroke(),(o+=5)<this.linePosGrp.length-1&&this.graphicsLine.moveTo(this.linePosGrp[o].x,this.linePosGrp[o].y),e=0)},e.prototype.onDestroy=function(){this.node.off("restartDraw",this.restartDraw.bind(this))},r([s(cc.Node)],e.prototype,"ctlPoint",void 0),r([s(cc.Graphics)],e.prototype,"graphicsLine",void 0),r([s(cc.Boolean)],e.prototype,"isLeft",void 0),r([s(cc.Float)],e.prototype,"durTime",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ui_def:[function(t,e,o){"use strict";cc._RF.push(e,"d43259kya5B9qG98fI/3NJc","ui_def"),o.__esModule=!0,o.UI_Listen=o.UI_Layer=o.Scene_Prefab=o.Scene_GM_Page=o.SKILLKARDBG=o.RedDot_Key=o.PlayGround_Listen=o.Page_Prefab=o.Control_Listen=void 0;var n={passListPage:["uimod/passItemBig","uimod/passItem"],boxPage:["uimod/gaChaItem",{name:"item",type:cc.SpriteAtlas,bundle:"plist"},{name:"fightEnd",type:cc.SpriteAtlas,bundle:"plist"},{name:"skill",type:cc.SpriteAtlas,bundle:"plist"},{name:"bg_card",type:cc.SpriteAtlas,bundle:"plist"}],rolePage:["uimod/roleitemPre","uimod/roleEquipItem","uimod/inFight",{name:"equip",type:cc.SpriteAtlas,bundle:"plist"},{name:"rolePage",type:cc.SpriteAtlas,bundle:"plist"}],missionPage:["uimod/taskItem",{name:"taskPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"item",type:cc.SpriteAtlas,bundle:"plist"}],skillPage:["uimod/mergeItem","uimod/skillItem",{name:"fightMain",type:cc.SpriteAtlas,bundle:"plist"},{name:"skillPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"skill",type:cc.SpriteAtlas,bundle:"plist"},{name:"merge",type:cc.SpriteAtlas,bundle:"plist"}],BottomBar:[{name:"mainPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"mainNew",type:cc.SpriteAtlas,bundle:"plist"}],RightBar:[{name:"adicon",type:cc.SpriteAtlas,bundle:"plist"},{name:"btns",type:cc.SpriteAtlas,bundle:"plist"}],bottomSec:["uimod/bagItem","uimod/scrollAd","uimod/boxItem",{name:"item",type:cc.SpriteAtlas,bundle:"plist"}],bagPage:["uimod/bagItem"],trialNewRolePage:[{name:"overPage",type:cc.SpriteAtlas,bundle:"plist"}],equipmentPage:["uimod/equipPageItem","uimod/inFight","uimod/equipItem",{name:"overPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"numTitle",type:cc.SpriteAtlas,bundle:"plist"},{name:"equip",type:cc.SpriteAtlas,bundle:"plist"},{name:"equipPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"rolePage",type:cc.SpriteAtlas,bundle:"plist"},{name:"1001",type:cc.AudioClip,bundle:"voice"},{name:"1002",type:cc.AudioClip,bundle:"voice"},{name:"1003",type:cc.AudioClip,bundle:"voice"},{name:"1004",type:cc.AudioClip,bundle:"voice"}],GameOverPage:[{name:"overPage",type:cc.SpriteAtlas,bundle:"plist"},{name:"item",type:cc.SpriteAtlas,bundle:"plist"},{name:"win",type:cc.AudioClip,bundle:"voice"},{name:"fail",type:cc.AudioClip,bundle:"voice"},"uimod/bagItem"],adScroll:["uimod/adIcon"],fakeRan:["uimod/fakeRankItem",{name:"fakeRank",type:cc.SpriteAtlas,bundle:"plist"}],mainAdPage:["uimod/adIcon","uimod/scrollAd"],signPage:[{name:"signPage",type:cc.SpriteAtlas,bundle:"plist"}],rewardPage:[{name:"item",type:cc.SpriteAtlas,bundle:"plist"},{name:"fightMain",type:cc.SpriteAtlas,bundle:"plist"},{name:"reward",type:cc.SpriteAtlas,bundle:"plist"}],storePage:["uimod/storeItem",{name:"item",type:cc.SpriteAtlas,bundle:"plist"},{name:"skill",type:cc.SpriteAtlas,bundle:"plist"}],rankMainPage:["uimod/passItemBig","uimod/passItem",{name:"newPageList",type:cc.SpriteAtlas,bundle:"plist"}],manhuaPage:["uimod/manhuaNode"],tryoutPage:[{name:"skill",type:cc.SpriteAtlas,bundle:"plist"}],getStoreItemPage:[{name:"skill",type:cc.SpriteAtlas,bundle:"plist"},{name:"item",type:cc.SpriteAtlas,bundle:"plist"}],randomCardPage:[{name:"skill",type:cc.SpriteAtlas,bundle:"plist"}]};o.Page_Prefab=n;var i={Playground:["prefab/wayUnit","prefab/towerBase","prefab/buffAni","page/SkillBox","uimod/skillButton","page/TopInfo",{name:"spine/ani/critical_strike",type:sp.SkeletonData},{name:"fightMain",type:cc.SpriteAtlas,bundle:"plist"},{name:"skill",type:cc.SpriteAtlas,bundle:"plist"},{name:"play",type:cc.AudioClip,bundle:"voice"}],Main:["uimod/scrollAd","uimod/adIcon","uimod/adIconSec",{name:"manager",type:cc.SpriteAtlas,bundle:"plist"},{name:"goPass",type:cc.SpriteAtlas,bundle:"plist"},{name:"mainNew",type:cc.SpriteAtlas,bundle:"plist"},{name:"item",type:cc.SpriteAtlas,bundle:"plist"},{name:"go_pass",type:cc.AudioClip,bundle:"voice"},{name:"short",type:cc.AudioClip,bundle:"voice"},{name:"bgm",type:cc.AudioClip,bundle:"voice"},{name:"button",type:cc.AudioClip,bundle:"voice"},{name:"page",type:cc.AudioClip,bundle:"voice"}]};o.Scene_Prefab=i;var r=cc.Enum({Base:1,Cover:2,Pop:3,Load:4,Click:5,Msg:6});o.UI_Layer=r;var a=cc.Enum({UPDATE_HP:1,UPDATE_HP_ANI:2,UPDATE_AVATAR:3});o.PlayGround_Listen=a;var c=cc.Enum({SKILL_CD_CLEAR:1,CLOSE_START_GUIDE:2,UPDATE_RED_DOT:3});o.Control_Listen=c;var s=cc.Enum({DAY_SIGN:1,TASK:2,ROLE_INFO:3});o.RedDot_Key=s;var l=cc.Enum({CLOSE_LOAD_COVER:1,TOP_UPDATE_MONEY:6001,TOP_UPDATE_DIAMOND:6002,BAG_CHOOSE:1001,BAG_QUIT:1002,SKILL_NONE:2001,SKILL_ONLY_TEAM:2002,SKILL_ONLY_BAG:2003,SKILL_BAG_TEAM:2004,SKILL_TEAMCARD:2011,SKILL_BAGCARD:2012,SKILL_UPDATEPAGE:2013,SKILL_UPDATEMERGE:2014,SKILL_ADDCARD:2015,BOTTOM_MISSION:3001,BOTTOM_TEAM:3002,BOTTOM_FIGHT:3003,BOTTOM_CARD:3004,BOTTOM_BAG:3005,MAIN_CLOSEPAGE:4001,MAIN_TOMAIN:4002,MAIN_SHOWPASS:4003,MAIN_NEWROLE:4004,MAIN_GUIDEEND:4005,MAIN_ENDAD:4006,MAIN_NEWPAGE:4007,MAIN_SHOWVIDEO:4008,MAIN_CANCLOSEAD:4009,EQUIP_PAGE:5001,EQUIP_CHOOSE:5002,EQUIP_INDEX:5003,EQUIP_SHANGCHANG:5004,EQUIP_CHEXIA:5005,EQUIP_TIHUAN:5006,EQUIP_NONE:5007,EQUIP_SETEQUIP:5008,EQUIP_LVUPBTN:5009,EQUIP_CLCIKBTN:5010,EQUIP_LOOKAD:5011,EQUIPITEM_GETCLICK:5012,EQUIPITEM_INFOUPDATE:5013,EQUIPITEM_ITEMCLICK:5014,EQUIP_DETAILUPDATE:5015,TASK_UPDATE:7001,TASK_CLOSE:7002,TASK_TIAOZHUAN:7003,ROLE_BIG_CHOOSE:8001,ROLE_SML_CHOOSE:8002,ROLE_OL_BIG:8011,ROLE_OL_SMALL:8012,ROLE_BOTH:8013,ROLE_NONE:8014,ROLE_GOFIGHT:8015,ROLE_GOHOME:8016,SHOP_CLICK:9001,SHOP_BUY:9002,PLGD_STARTEND:10001,PLGD_ENDAD:10002,PLGD_VIDEO:10003});o.UI_Listen=l;var u={Main:[{name:"GM_main",layer:r.Msg,script:"gm_main"}]};o.Scene_GM_Page=u;var p=cc.Enum({TEAM:1,BAG:2});o.SKILLKARDBG=p,cc._RF.pop()},{}]},{},["ui_def","LyShowCase","BlueWaveCtl","DlgBezierLine","MoreOrderBezier","MoveBall","ThirdOrderBezierGrp","bezierTest","ComicPre","DlgComicPage","DlgGuide","DlgGuideCase","HollowOut","TouchBlocker","DlgJellyTween","JellyTweenCases","DlgLyShader","DlgLyTip","DlgShufflingFigure","ShufflingFigure","LyTipPre","AnimatorAnimation","AnimatorCustomization","AnimatorDragonBones","AnimatorSpine","AnimatorSpineSecondary","AnimatorBase","AnimatorCondition","AnimatorController","AnimatorParams","AnimatorState","AnimatorStateLogic","AnimatorTransition","DialogBase","Layer","Timer","Tip","ShaderFill","ShaderOutline","ShaderShining","ShaderTile","AdaptCanvas","AdaptSize","AnimValue","AnimValueLabel","AnimValueProgress","AnimValueProgressHP","ButtonChildGray","ButtonChildPos","ButtonSingle","CircleList","MultiSprite","MultiTextureManager","MultiAssembler","MultiAssemblerBarFilled","MultiAssemblerRadialFilled","MultiAssemblerSimple","MultiAssemblerSliced","MultiAssemblerTiled","ResSpine","ResSprite","ShakeNode","VirtualItem","VirtualLayout","VirtualList","Configures","EnumName","EventName","Url","ButtonHack","JellyTween","AudioManager","DataCtr","Decorator","EditorTool","Events","Locator","LyTools","Random","RecyclePool","Res","Tool","Tween","I18n","LocalizedLabel","LocalizedSprite","En","Zh","DlgAnimValue","DlgAudio","DlgCircleList","DlgEvents","DlgI18N","DlgLayer","DlgMultiTexture","DlgShader","DlgShake","DlgTimer","DlgVirtualList","ListItem","Game","Home","Main"]);